(this["webpackJsonpwork-timers"]=this["webpackJsonpwork-timers"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var c,r=n(1),o=n.n(r),s=n(23),i=n.n(s),a=n(32),u=n(13),l=(n(96),n(17));n(97);!function(e){e[e.CounterTimer=0]="CounterTimer"}(c||(c={}));n(44);var d=n(18),j=n(9);function m(e,t){var n=Object(r.useRef)(e);Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(!t)return function(){};var e=setInterval((function(){var e=n.current;e&&e()}),t);return function(){return clearInterval(e)}}),[t])}var b=n(11),p=n(38),f=Object(p.a)({name:"audio",initialState:{muted:!1,volume:.5},reducers:{setMuted:function(e,t){e.muted=t.payload},setVolume:function(e,t){console.log("Setting volume to ".concat(t.payload)),e.volume=Math.min(Math.max(0,t.payload),1)}}}),O={seconds:0,stopped:!0,flashing:!1,muted:!1,timesCompleted:0},v=Object(p.a)({name:"timers",initialState:{},reducers:{addTimer:function(e,t){e[t.payload]=Object(d.a)({},O)},setTimerState:function(e,t){e[t.payload.key]=t.payload.state},setTimerSeconds:function(e,t){e[t.payload.key].seconds=t.payload.value},setTimerStopped:function(e,t){e[t.payload.key].stopped=t.payload.value},setTimerTimesCompleted:function(e,t){e[t.payload.key].timesCompleted=t.payload.value},setTimerFlashing:function(e,t){e[t.payload.key].flashing=t.payload.value},setTimerMuted:function(e,t){e[t.payload.key].muted=t.payload.value},startAllTimers:function(e){Object.keys(e).forEach((function(t){e[t].stopped=!1}))},stopAllTimers:function(e){Object.keys(e).forEach((function(t){e[t].stopped=!0}))}}}),x=Object(b.b)({timers:v.reducer,audio:f.reducer}),h=Object(b.d)(x),g=function(){return Object(a.b)()},k=a.c,C=h,T=v.actions;function S(e){var t=k((function(e){return e.timers})),n=g(),c=Object(r.useMemo)((function(){return e in t?t[e]:void 0}),[t,e]),o=function(){var e=Object(r.useState)(0),t=Object(j.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(!0),s=Object(j.a)(o,2),i=s[0],a=s[1];return m((function(){c(i?n:n+1)}),1e3),{currentSeconds:n,stopped:i,setStopped:a}}(),s=o.currentSeconds,i=o.stopped,a=o.setStopped,u=Object(r.useCallback)((function(t){c&&n(T.setTimerSeconds({key:e,value:t}))}),[e,c,n,a]),l=Object(r.useCallback)((function(t){c&&n(T.setTimerStopped({key:e,value:t}))}),[e,c,n,a]),d=Object(r.useCallback)((function(t){c&&n(T.setTimerFlashing({key:e,value:t}))}),[e,c,n]),b=Object(r.useCallback)((function(t){c&&n(T.setTimerMuted({key:e,value:t}))}),[e,c,n]),p=Object(r.useCallback)((function(){c&&n(T.setTimerTimesCompleted({key:e,value:c.timesCompleted+1}))}),[e,c,n]);return Object(r.useEffect)((function(){c&&c.stopped!==i&&a(c.stopped)}),[c,i,a]),Object(r.useEffect)((function(){c&&s!==c.seconds&&u(s)}),[c,s,u]),{timerState:c,seconds:c?c.seconds:-1,stopped:!c||c.stopped,flashing:!c||c.flashing,muted:!c||c.muted,setStopped:l,setFlashing:d,setMuted:b,incrementTimesCompleted:p}}function y(e,t){var n=function(e,t){var n=S(e),c=n.timerState,o=n.stopped,s=n.seconds,i=n.flashing,a=n.setStopped,u=n.setFlashing,l=n.incrementTimesCompleted,m=Object(r.useState)(0),b=Object(j.a)(m,2),p=b[0],f=b[1],O=Object(r.useState)(!1),v=Object(j.a)(O,2),x=v[0],h=v[1],g=Object(r.useCallback)((function(){f(s),u(!1)}),[f,s,u]),k=Object(r.useCallback)((function(){l(),u(!1)}),[l,u]),C=Object(r.useMemo)((function(){if(c){var e=t-(c.seconds-p);return e<=0&&!i&&!x?u(!0):e<=0&&x&&(h(!1),g()),e}return 99999999999999}),[t,c,p,x,i,h,g,u]),T=Object(r.useMemo)((function(){return c?Math.max(0,C):-1}),[C,c]),y=Object(r.useCallback)((function(){g(),a(!0)}),[g,a]),M=Object(r.useCallback)((function(){g(),a(!1)}),[g,a]);return Object(d.a)(Object(d.a)({},n),{},{timerState:c,secondsRemaining:T,stopped:o,markedForRestart:x,setStopped:a,setFlashing:u,resetTimer:g,resetTimerAndStop:y,resetTimerAndStart:M,incrementTimesCompleted:k,setMarkedForRestart:function(){return h(!0)}})}(e,t.durationInSeconds),c=n.timerState,o=n.secondsRemaining,s=n.stopped,i=n.markedForRestart,a=n.muted,u=n.setMuted,l=n.setStopped,m=n.incrementTimesCompleted,b=n.resetTimer,p=n.setMarkedForRestart,f=c?c.timesCompleted:-1,O=Object(r.useCallback)((function(){m(),b()}),[m,b]),v=Object(r.useCallback)((function(){m(),p()}),[m,p]);return{timesCompleted:f,secondsRemaining:o,stopped:s,markedForRestart:i,muted:a,setMuted:u,setStopped:l,complete:m,restart:b,completeAndRestart:O,completeAndMarkForRestart:v}}var M,w,A=n(28),R=n(4);!function(e){e[e.Normal=0]="Normal",e[e.Stopped=1]="Stopped",e[e.MarkedForRestart=2]="MarkedForRestart"}(w||(w={}));var F=(M={},Object(A.a)(M,w.Normal,"black"),Object(A.a)(M,w.Stopped,"red"),Object(A.a)(M,w.MarkedForRestart,"green"),M),I=function(e){return e<10?"0".concat(e):e},z=function(e){var t=e.seconds,n=e.state,c=Object(r.useMemo)((function(){return function(e){var t="".concat(I(e.minutes),":").concat(I(e.seconds));return e.hours>0?"".concat(I(e.hours),":")+t:t}(function(e){var t=e;return{hours:~~(t/3600),minutes:~~((t%=3600)/60),seconds:t%=60}}(t))}),[t]);return Object(R.jsx)(l.d,{size:"3xl",color:F[n],children:c})},E=n(24),N=function(e){var t=e.stopped,n=e.onClick;return Object(R.jsx)(l.a,{onClick:n,children:t?Object(R.jsx)(E.d,{size:90}):Object(R.jsx)(E.c,{size:90})})},V=n(46),L=function(e){var t=e.onClick,n=e.buttonText,c=void 0===n?"Restart":n;return Object(R.jsx)(l.a,{onClick:t,children:Object(R.jsx)(V.a,{bg:"blue.100",leftIcon:Object(R.jsx)(E.a,{size:20}),children:c})})},W=function(e){var t=e.onClick,n=e.buttonText,c=void 0===n?"Complete":n;return Object(R.jsx)(l.a,{onClick:t,children:Object(R.jsx)(V.a,{bg:"blue.100",leftIcon:Object(R.jsx)(E.b,{size:20}),children:c})})},D=n(52),B=function(e){var t=e.onClick,n=e.buttonText,c=void 0===n?"Complete":n;return Object(R.jsx)(l.a,{onClick:t,children:Object(R.jsx)(V.a,{bg:"blue.100",leftIcon:Object(R.jsx)(D.a,{size:20}),children:c})})},J=n(33),P=function(e){var t=e.muted,n=e.volume,c=e.onClick,o=e.color,s=void 0===o?"white":o,i=e.hoverColor,a=void 0===i?"#dddddd":i,u=e.size,l=void 0===u?40:u,m=Object(r.useState)(s),b=Object(j.a)(m,2),p=b[0],f=b[1],O={color:p,size:l,onMouseEnter:function(){return f(a)},onMouseLeave:function(){return f(s)},onClick:c};return t?Object(R.jsx)(J.d,Object(d.a)({},O)):0==n?Object(R.jsx)(J.a,Object(d.a)({},O)):n<.5?Object(R.jsx)(J.c,Object(d.a)({},O)):Object(R.jsx)(J.b,Object(d.a)({},O))},H=function(e){var t=e.timer,n=y(e.timerId,t);return Object(R.jsxs)("div",{className:"timerWrapper",children:[Object(R.jsxs)(l.c,{width:"100%",children:[Object(R.jsx)(P,{muted:n.muted,volume:1,onClick:function(){return n.setMuted(!n.muted)},size:60,color:"#dddddd",hoverColor:"#888888"}),Object(R.jsx)(l.f,{}),Object(R.jsx)(l.d,{size:"lg",ml:"-".concat(60,"px"),children:t.title}),Object(R.jsx)(l.f,{}),Object(R.jsx)("div",{})]}),Object(R.jsxs)(l.d,{size:"md",color:"gray.500",fontWeight:"semibold",letterSpacing:"wide",children:["Completed ",n.timesCompleted," times today"]}),Object(R.jsx)(z,{seconds:n.secondsRemaining,state:n.stopped?w.Stopped:n.markedForRestart?w.MarkedForRestart:w.Normal}),Object(R.jsxs)(l.g,{direction:"column",spacing:"1rem",align:"center",children:[Object(R.jsx)(N,{stopped:n.stopped,onClick:function(){return n.setStopped(!n.stopped)}}),Object(R.jsxs)(l.g,{direction:"row",children:[n.secondsRemaining>0&&Object(R.jsx)(B,{onClick:n.complete}),Object(R.jsx)(W,{onClick:n.completeAndRestart}),n.secondsRemaining>0&&Object(R.jsx)(L,{onClick:n.completeAndMarkForRestart,buttonText:"Complete and Autorestart"})]}),Object(R.jsx)(L,{onClick:n.restart})]})]})},q="gray.100";var G=function(e){var t=e.timer,n=e.timerId,o=function(e){var t=k((function(e){return e.timers})),n=Object(r.useState)(q),c=Object(j.a)(n,2),o=c[0],s=c[1],i=Object(r.useMemo)((function(){return!(e in t)||!t[e].stopped&&t[e].flashing}),[t,e]);return m((function(){i?s(o===q?"yellow.200":q):o!==q&&s(q)}),200),{flashing:i,bgColor:o}}(n),s=o.bgColor;return t.type===c.CounterTimer?Object(R.jsx)(l.b,{maxW:"container.xl",children:Object(R.jsx)(l.a,{borderWidth:"1px",borderRadius:"lg",className:"timer",bg:s,p:"1rem",children:Object(R.jsx)(H,{timer:t,timerId:n})})}):Object(R.jsxs)("div",{className:"timer",children:["Invalid renderer for ",t.title]})},K=n(53),Q=(n(102),n(47)),U=n(48),X=function(e){var t=e.value,n=e.setValue,c=e.disabled,r=o.a.useState(!1),s=Object(j.a)(r,2),i=s[0],a=s[1];return console.log("audio slider w value: ".concat(t)),Object(R.jsxs)(Q.a,{"aria-label":"slider-ex-6",onChange:function(e){return n(e)},width:"10rem",onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},isReversed:!0,isDisabled:c,children:[Object(R.jsx)(Q.c,{value:t,textAlign:"center",bg:"blue.500",color:"white",mt:"-10",ml:"-5",w:"12",placement:!0}),Object(R.jsx)(Q.e,{bg:"white",children:Object(R.jsx)(Q.b,{bg:"blue.500"})}),Object(R.jsx)(U.a,{hasArrow:!0,bg:"teal.500",color:"white",placement:"top",isOpen:i,label:"".concat(Math.round(t),"%"),children:Object(R.jsx)(Q.d,{})})]})},Y=f.actions;function Z(){var e=k((function(e){return e.audio})),t=g(),n=Object(r.useCallback)((function(e){return t(Y.setMuted(e))}),[t]),c=Object(r.useCallback)((function(e){return t(Y.setVolume(e))}),[t]);return{muted:e.muted,setMuted:n,volume:e.volume,setVolume:c}}var $=function(){var e=Z(),t=e.volume,n=e.setVolume,c=e.muted,o=e.setMuted,s=Object(r.useState)("white"),i=Object(j.a)(s,2);i[0],i[1];return Object(R.jsxs)(l.g,{direction:"row",align:"center",children:[Object(R.jsx)(X,{value:100*t,setValue:function(e){return n(e/100)},disabled:c}),Object(R.jsx)(P,{muted:c,volume:t,onClick:function(){return o(!c)}}),Object(R.jsx)("div",{style:{marginRight:"1rem"}})]})},_=function(e){var t=e.startAllTimers,n=e.stopAllTimers;return Object(R.jsx)(l.a,{bg:"tomato",w:"100%",children:Object(R.jsxs)(l.c,{width:"100%",children:[Object(R.jsxs)(l.g,{direction:"row",spacing:"1rem",ml:"1rem",pt:"5px",pb:"5px",align:"center",children:[Object(R.jsx)(K.a,{size:40,color:"white"}),Object(R.jsx)(l.d,{size:"xl",color:"white",children:"Timers Lesgooo"}),Object(R.jsx)(V.a,{bg:"blue.100",onClick:t,children:"Start All"}),Object(R.jsx)(V.a,{bg:"blue.100",onClick:n,children:"Stop All"})]}),Object(R.jsx)(l.f,{}),Object(R.jsx)($,{})]})})},ee=v.actions;var te=n.p+"static/media/beep.c21038da.mp3";function ne(){var e=k((function(e){return e.timers})),t=Object(r.useMemo)((function(){return function(e){for(var t=Object.keys(e).map((function(t){return e[t]})),n=0;n<t.length;n++)if(t[n].flashing&&!t[n].stopped&&!t[n].muted)return!0;return!1}(e)}),[e]),n=Z(),c=n.muted,o=n.volume,s=Object(r.useState)(new Audio(te)),i=Object(j.a)(s,1)[0];Object(r.useEffect)((function(){i.volume=c?0:o}),[i,c,o]),m((function(){t&&i.play()}),1e3)}var ce={type:c.CounterTimer,title:"Drink 1/2 Hydroflask",durationInSeconds:5},re={waterTimer:ce,waterTimer2:ce},oe=Object.values(re),se=function(){var e=function(){var e=g();return{addTimers:Object(r.useCallback)((function(t){for(var n=0;n<t;n++)console.log("Adding timer ".concat(n)),e(ee.addTimer("".concat(n)))}),[e]),startAllTimers:Object(r.useCallback)((function(){return e(ee.startAllTimers())}),[e]),stopAllTimers:Object(r.useCallback)((function(){return e(ee.stopAllTimers())}),[e])}}(),t=e.addTimers,n=e.startAllTimers,c=e.stopAllTimers;return Object(r.useEffect)((function(){t(oe.length)}),[t,oe]),ne(),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(_,{startAllTimers:n,stopAllTimers:c}),Object(R.jsx)(l.e,{minChildWidth:"500px",spacing:"40px",marginTop:"1rem",children:oe.map((function(e,t){return Object(R.jsx)(G,{timer:e,timerId:"".concat(t)})}))})]})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,110)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),o(e),s(e)}))};i.a.render(Object(R.jsx)(o.a.StrictMode,{children:Object(R.jsx)(a.a,{store:C,children:Object(R.jsx)(u.a,{children:Object(R.jsx)(se,{})})})}),document.getElementById("root")),ie()},44:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.a21c1ab6.chunk.js.map