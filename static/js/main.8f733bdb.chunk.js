(this["webpackJsonpwork-timers"]=this["webpackJsonpwork-timers"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var c,r=n(1),s=n.n(r),o=n(23),i=n.n(o),a=n(33),u=n(10),d=(n(96),n(17));n(97);!function(e){e[e.CounterTimer=0]="CounterTimer",e[e.MultiStateTimer=1]="MultiStateTimer",e[e.Stopwatch=2]="Stopwatch"}(c||(c={}));n(34);var l=n(18),j=n(9);function m(e,t){var n=Object(r.useRef)(e);Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(!t)return function(){};var e=setInterval((function(){var e=n.current;e&&e()}),t);return function(){return clearInterval(e)}}),[t])}var b=n(12),p=n(39),O=Object(p.a)({name:"audio",initialState:{muted:!1,volume:.5},reducers:{setMuted:function(e,t){e.muted=t.payload},setVolume:function(e,t){e.volume=Math.min(Math.max(0,t.payload),1)}}}),f={seconds:0,stopped:!0,flashing:!1,muted:!1,timesCompleted:0,statesSeconds:[0,0,0,0,0,0,0,0,0,0,0,0]},x=Object(p.a)({name:"timers",initialState:{},reducers:{addTimer:function(e,t){e[t.payload]=Object(l.a)({},f)},setTimerState:function(e,t){e[t.payload.key]=t.payload.state},setTimerSeconds:function(e,t){e[t.payload.key].seconds=t.payload.value},setTimerStopped:function(e,t){e[t.payload.key].stopped=t.payload.value},setTimerTimesCompleted:function(e,t){e[t.payload.key].timesCompleted=t.payload.value},setTimerFlashing:function(e,t){e[t.payload.key].flashing=t.payload.value},setTimerMuted:function(e,t){e[t.payload.key].muted=t.payload.value},setStatesSeconds:function(e,t){e[t.payload.key].statesSeconds=t.payload.value},setStatesSecondsAt:function(e,t){e[t.payload.key].statesSeconds[t.payload.index]=t.payload.value},addStatesSecondsAt:function(e,t){e[t.payload.key].statesSeconds[t.payload.index]+=t.payload.value},startAllTimers:function(e){Object.keys(e).forEach((function(t){e[t].stopped=!1}))},stopAllTimers:function(e){Object.keys(e).forEach((function(t){e[t].stopped=!0}))}}}),h=Object(b.b)({timers:x.reducer,audio:O.reducer}),v=Object(b.d)(h),g=function(){return Object(a.b)()},S=a.c,k=v,C=x.actions;function T(e,t){var n=S((function(e){return e.timers})),c=g(),s=Object(r.useMemo)((function(){return e in n?n[e]:void 0}),[n,e]),o=function(e){var t=Object(r.useState)(0),n=Object(j.a)(t,2),c=n[0],s=n[1],o=Object(r.useState)(!0),i=Object(j.a)(o,2),a=i[0],u=i[1];return m((function(){a||(s(c+1),e&&e())}),1e3),{currentSeconds:c,stopped:a,setStopped:u}}(t),i=o.currentSeconds,a=o.stopped,u=o.setStopped,d=Object(r.useCallback)((function(t){s&&c(C.setTimerSeconds({key:e,value:t}))}),[e,s,c]),l=Object(r.useCallback)((function(t){s&&c(C.setTimerStopped({key:e,value:t}))}),[e,s,c]),b=Object(r.useCallback)((function(t){s&&c(C.setTimerFlashing({key:e,value:t}))}),[e,s,c]),p=Object(r.useCallback)((function(t){s&&c(C.setTimerMuted({key:e,value:t}))}),[e,s,c]),O=Object(r.useCallback)((function(){s&&c(C.setTimerTimesCompleted({key:e,value:s.timesCompleted+1}))}),[e,s,c]);return Object(r.useEffect)((function(){s&&s.stopped!==a&&u(s.stopped)}),[s,a,u]),Object(r.useEffect)((function(){s&&i!==s.seconds&&d(i)}),[s,i,d]),{timerState:s,seconds:s?s.seconds:-1,stopped:!s||s.stopped,flashing:!s||s.flashing,muted:!s||s.muted,setStopped:l,setFlashing:b,setMuted:p,incrementTimesCompleted:O}}function y(e,t,n){var c=T(e,n),s=c.timerState,o=c.stopped,i=c.seconds,a=c.flashing,u=c.setStopped,d=c.setFlashing,m=c.incrementTimesCompleted,b=Object(r.useState)(0),p=Object(j.a)(b,2),O=p[0],f=p[1],x=Object(r.useState)(!1),h=Object(j.a)(x,2),v=h[0],g=h[1],S=Object(r.useCallback)((function(){f(i),d(!1)}),[f,i,d]),k=Object(r.useCallback)((function(){m(),d(!1)}),[m,d]),C=Object(r.useMemo)((function(){if(s){var e=t-(s.seconds-O);return e<=0&&!a&&!v?d(!0):e<=0&&v&&(g(!1),S()),e}return 99999999999999}),[t,s,O,v,a,g,S,d]),y=Object(r.useMemo)((function(){return s?Math.max(0,C):-1}),[C,s]),M=Object(r.useCallback)((function(){S(),u(!0)}),[S,u]),A=Object(r.useCallback)((function(){S(),u(!1)}),[S,u]);return Object(l.a)(Object(l.a)({},c),{},{timerState:s,secondsRemaining:y,stopped:o,markedForRestart:v,setStopped:u,setFlashing:d,resetTimer:S,resetTimerAndStop:M,resetTimerAndStart:A,incrementTimesCompleted:k,setMarkedForRestart:function(){return g(!0)}})}var M,A,I=n(25),w=n(4);!function(e){e[e.Normal=0]="Normal",e[e.Stopped=1]="Stopped",e[e.MarkedForRestart=2]="MarkedForRestart",e[e.Active=3]="Active"}(A||(A={}));var R=(M={},Object(I.a)(M,A.Normal,"black"),Object(I.a)(M,A.Stopped,"red"),Object(I.a)(M,A.MarkedForRestart,"green"),Object(I.a)(M,A.Active,"green"),M),F=function(e){return e<10?"0".concat(e):e},z=function(e){var t=e.seconds,n=e.state,c=e.size,s=void 0===c?"3xl":c,o=e.heading,i=Object(r.useMemo)((function(){return function(e){var t="".concat(F(e.minutes),":").concat(F(e.seconds));return e.hours>0?"".concat(F(e.hours),":")+t:t}(function(e){var t=e;return{hours:~~(t/3600),minutes:~~((t%=3600)/60),seconds:t%=60}}(t))}),[t]),a=Object(w.jsx)(d.d,{size:s,color:R[n],children:i});return o?Object(w.jsxs)(d.g,{align:"center",children:[Object(w.jsx)(d.d,{size:"sm",color:"gray.500",children:o}),a]}):a},N=n(24),E=function(e){var t=e.stopped,n=e.onClick;return Object(w.jsx)(d.a,{onClick:n,children:t?Object(w.jsx)(N.d,{size:90}):Object(w.jsx)(N.c,{size:90})})},W=n(46),B=function(e){var t=e.onClick,n=e.buttonText,c=void 0===n?"Restart":n;return Object(w.jsx)(d.a,{onClick:t,children:Object(w.jsx)(W.a,{bg:"blue.100",leftIcon:Object(w.jsx)(N.a,{size:20}),children:c})})},V=function(e){var t=e.onClick,n=e.buttonText,c=void 0===n?"Complete":n;return Object(w.jsx)(d.a,{onClick:t,children:Object(w.jsx)(W.a,{bg:"blue.100",leftIcon:Object(w.jsx)(N.b,{size:20}),children:c})})},L=n(52),P=function(e){var t=e.onClick,n=e.buttonText,c=void 0===n?"Complete":n;return Object(w.jsx)(d.a,{onClick:t,children:Object(w.jsx)(W.a,{bg:"blue.100",leftIcon:Object(w.jsx)(L.a,{size:20}),children:c})})},D=n(26),J=function(e){var t=e.muted,n=e.volume,c=e.onClick,s=e.color,o=void 0===s?"white":s,i=e.hoverColor,a=void 0===i?"#dddddd":i,u=e.size,d=void 0===u?40:u,m=Object(r.useState)(o),b=Object(j.a)(m,2),p=b[0],O=b[1],f={color:p,size:d,onMouseEnter:function(){return O(a)},onMouseLeave:function(){return O(o)},onClick:c};return t?Object(w.jsx)(D.e,Object(l.a)({},f)):0===n?Object(w.jsx)(D.b,Object(l.a)({},f)):n<.5?Object(w.jsx)(D.d,Object(l.a)({},f)):Object(w.jsx)(D.c,Object(l.a)({},f))},H=function(e){var t=e.title,n=e.muteButtonProps;return n?Object(w.jsxs)(d.c,{width:"100%",children:[Object(w.jsx)(J,{muted:n.muted,volume:1,onClick:function(){return n.setMuted(!n.muted)},size:60,color:"#dddddd",hoverColor:"#888888"}),Object(w.jsx)(d.f,{}),Object(w.jsx)(d.d,{size:"lg",ml:"-".concat(60,"px"),children:t}),Object(w.jsx)(d.f,{}),Object(w.jsx)("div",{})]}):Object(w.jsx)(d.d,{size:"lg",children:t})},q=function(e){var t=e.timer,n=function(e,t){var n=y(e,t.durationInSeconds),c=n.timerState,s=n.secondsRemaining,o=n.stopped,i=n.markedForRestart,a=n.muted,u=n.setMuted,d=n.setStopped,l=n.incrementTimesCompleted,j=n.resetTimer,m=n.setMarkedForRestart,b=c?c.timesCompleted:-1,p=Object(r.useCallback)((function(){l(),j()}),[l,j]),O=Object(r.useCallback)((function(){l(),m()}),[l,m]);return{timesCompleted:b,secondsRemaining:s,stopped:o,markedForRestart:i,muted:a,setMuted:u,setStopped:d,complete:l,restart:j,completeAndRestart:p,completeAndMarkForRestart:O}}(e.timerId,t);return Object(w.jsxs)("div",{className:"timerWrapper",children:[Object(w.jsx)(H,{title:t.title,muteButtonProps:{muted:n.muted,setMuted:n.setMuted}}),Object(w.jsxs)(d.d,{size:"md",color:"gray.500",fontWeight:"semibold",letterSpacing:"wide",children:["Completed ",n.timesCompleted," times today"]}),Object(w.jsx)(z,{seconds:n.secondsRemaining,state:n.stopped?A.Stopped:n.markedForRestart?A.MarkedForRestart:A.Normal}),Object(w.jsxs)(d.g,{direction:"column",spacing:"1rem",align:"center",children:[Object(w.jsx)(E,{stopped:n.stopped,onClick:function(){return n.setStopped(!n.stopped)}}),Object(w.jsxs)(d.g,{direction:"row",children:[n.secondsRemaining>0&&Object(w.jsx)(P,{onClick:n.complete}),Object(w.jsx)(V,{onClick:n.completeAndRestart}),n.secondsRemaining>0&&Object(w.jsx)(B,{onClick:n.completeAndMarkForRestart,buttonText:"Complete and Autorestart"})]}),Object(w.jsx)(B,{onClick:n.restart})]})]})},G="gray.100";var K=function(e){var t=e.timer,n=T(e.timerId);return Object(w.jsxs)("div",{className:"timerWrapper",children:[Object(w.jsx)(H,{title:t.title}),Object(w.jsx)(z,{seconds:n.seconds,state:n.stopped?A.Stopped:A.Normal}),Object(w.jsx)(E,{stopped:n.stopped,onClick:function(){return n.setStopped(!n.stopped)}})]})},Q=function(e){var t=e.onClick,n=e.buttonText,c=void 0===n?"Next":n;return Object(w.jsx)(d.a,{onClick:t,children:Object(w.jsx)(W.a,{bg:"blue.100",leftIcon:Object(w.jsx)(D.a,{size:30}),children:c})})},U=x.actions;var X=function(e){var t=e.timer,n=function(e,t){var n=Object(r.useState)(0),c=Object(j.a)(n,2),s=c[0],o=c[1],i=Object(r.useMemo)((function(){return t[s]}),[t,s]),a=g(),u=Object(r.useCallback)((function(t){a(U.addStatesSecondsAt({key:e,index:s,value:t}))}),[a,s,e]),d=y(e,i.durationInSeconds,(function(){return u(1)})),l=d.timerState,m=Object(r.useCallback)((function(){return s>=t.length-1?0:s+1}),[s,t]),b=Object(r.useMemo)((function(){return t[m()].title}),[t,m]),p=Object(r.useCallback)((function(){d.resetTimer(),o(m())}),[o,d,m]),O=Object(r.useMemo)((function(){return l?t.map((function(e,t){return{title:e.title,totalSeconds:l.statesSeconds[t]}})):[]}),[l,t]);return{currentIndex:s,currentTitle:i.title,nextStateTitle:b,secondsRemaining:d.secondsRemaining,stopped:d.stopped,states:O,setStopped:d.setStopped,muted:d.muted,setMuted:d.setMuted,moveToNextState:p}}(e.timerId,t.states);return Object(w.jsxs)("div",{className:"timerWrapper",children:[Object(w.jsx)(H,{title:t.title,muteButtonProps:{muted:n.muted,setMuted:n.setMuted}}),Object(w.jsx)(d.g,{direction:"row",align:"center",spacing:"5rem",children:n.states.map((function(e,t){return Object(w.jsx)(z,{seconds:e.totalSeconds,size:"lg",state:n.currentIndex===t?A.Active:A.Normal,heading:e.title},"".concat(t))}))}),Object(w.jsx)(d.d,{size:"lg",children:n.currentTitle}),Object(w.jsx)(z,{seconds:n.secondsRemaining,state:n.stopped?A.Stopped:A.Normal}),Object(w.jsx)(E,{stopped:n.stopped,onClick:function(){return n.setStopped(!n.stopped)}}),Object(w.jsx)(Q,{onClick:n.moveToNextState,buttonText:"Switch to ".concat(n.nextStateTitle)})]})},Y=function(e){var t=e.timerId,n=e.children,c=function(e){var t=S((function(e){return e.timers})),n=Object(r.useState)(G),c=Object(j.a)(n,2),s=c[0],o=c[1],i=Object(r.useMemo)((function(){return!(e in t)||!t[e].stopped&&t[e].flashing}),[t,e]);return m((function(){i?o(s===G?"yellow.200":G):s!==G&&o(G)}),200),{flashing:i,bgColor:s}}(t),s=c.bgColor;return Object(w.jsx)(d.b,{maxW:"container.xl",children:Object(w.jsx)(d.a,{borderWidth:"1px",borderRadius:"lg",className:"timer",bg:s,p:"1rem",height:"100%",children:n})})},Z=function(e){var t=e.timer,n=e.timerId;return t.type===c.CounterTimer?Object(w.jsx)(Y,{timerId:n,children:Object(w.jsx)(q,{timer:t,timerId:n})}):t.type===c.Stopwatch?Object(w.jsx)(Y,{timerId:n,children:Object(w.jsx)(K,{timer:t,timerId:n})}):t.type===c.MultiStateTimer?Object(w.jsx)(Y,{timerId:n,children:Object(w.jsx)(X,{timerId:n,timer:t})}):Object(w.jsxs)("div",{className:"timer",children:["Invalid renderer for ",t.title]})},$=n(53),_=(n(102),n(47)),ee=n(48),te=function(e){var t=e.value,n=e.setValue,c=e.disabled,r=s.a.useState(!1),o=Object(j.a)(r,2),i=o[0],a=o[1];return Object(w.jsxs)(_.a,{"aria-label":"slider-ex-6",onChange:function(e){return n(e)},width:"10rem",onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},isReversed:!0,isDisabled:c,children:[Object(w.jsx)(_.c,{value:t,textAlign:"center",bg:"blue.500",color:"white",mt:"-10",ml:"-5",w:"12"}),Object(w.jsx)(_.e,{bg:"white",children:Object(w.jsx)(_.b,{bg:"blue.500"})}),Object(w.jsx)(ee.a,{hasArrow:!0,bg:"teal.500",color:"white",placement:"top",isOpen:i,label:"".concat(Math.round(t),"%"),children:Object(w.jsx)(_.d,{})})]})},ne=O.actions;function ce(){var e=S((function(e){return e.audio})),t=g(),n=Object(r.useCallback)((function(e){return t(ne.setMuted(e))}),[t]),c=Object(r.useCallback)((function(e){return t(ne.setVolume(e))}),[t]);return{muted:e.muted,setMuted:n,volume:e.volume,setVolume:c}}var re=function(){var e=ce(),t=e.volume,n=e.setVolume,c=e.muted,r=e.setMuted;return Object(w.jsxs)(d.g,{direction:"row",align:"center",children:[Object(w.jsx)(te,{value:100*t,setValue:function(e){return n(e/100)},disabled:c}),Object(w.jsx)(J,{muted:c,volume:t,onClick:function(){return r(!c)}}),Object(w.jsx)("div",{style:{marginRight:"1rem"}})]})},se=function(e){var t=e.startAllTimers,n=e.stopAllTimers;return Object(w.jsx)(d.a,{bg:"tomato",w:"100%",className:"header",children:Object(w.jsxs)(d.c,{width:"100%",children:[Object(w.jsxs)(d.g,{direction:"row",spacing:"1rem",ml:"1rem",pt:"5px",pb:"5px",align:"center",children:[Object(w.jsx)($.a,{size:40,color:"white"}),Object(w.jsx)(d.d,{size:"xl",color:"white",children:"Timers Lesgooo"}),Object(w.jsx)(W.a,{bg:"blue.100",onClick:t,children:"Start All"}),Object(w.jsx)(W.a,{bg:"blue.100",onClick:n,children:"Stop All"})]}),Object(w.jsx)(d.f,{}),Object(w.jsx)(re,{})]})})},oe=x.actions;var ie=n.p+"static/media/beep.c21038da.mp3";function ae(){var e=S((function(e){return e.timers})),t=Object(r.useMemo)((function(){return function(e){for(var t=Object.keys(e).map((function(t){return e[t]})),n=0;n<t.length;n++)if(t[n].flashing&&!t[n].stopped&&!t[n].muted)return!0;return!1}(e)}),[e]),n=ce(),c=n.muted,s=n.volume,o=Object(r.useState)(new Audio(ie)),i=Object(j.a)(o,1)[0];Object(r.useEffect)((function(){i.volume=c?0:s}),[i,c,s]),m((function(){t&&i.play()}),1e3)}var ue={waterTimer:{type:c.CounterTimer,title:"Drink 1/2 Hydroflask",durationInSeconds:30},officeTimer:{type:c.Stopwatch,title:"In Office"},standingTimer:{type:c.MultiStateTimer,title:"Stand some you lazy ass",states:[{title:"Sitting",durationInSeconds:20},{title:"Standing",durationInSeconds:20}]},breakTimer:{type:c.MultiStateTimer,title:"Take a break my boi",states:[{title:"Working",durationInSeconds:45},{title:"Breaking.. bad",durationInSeconds:15}]}},de=Object.values(ue),le=function(){var e=function(){var e=g();return{addTimers:Object(r.useCallback)((function(t){for(var n=0;n<t;n++)console.log("Adding timer ".concat(n)),e(oe.addTimer("".concat(n)))}),[e]),startAllTimers:Object(r.useCallback)((function(){return e(oe.startAllTimers())}),[e]),stopAllTimers:Object(r.useCallback)((function(){return e(oe.stopAllTimers())}),[e])}}(),t=e.addTimers,n=e.startAllTimers,c=e.stopAllTimers;return Object(r.useEffect)((function(){t(de.length)}),[t]),ae(),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(se,{startAllTimers:n,stopAllTimers:c}),Object(w.jsx)(d.e,{minChildWidth:"500px",spacing:"40px",marginTop:"5rem",marginBottom:"2rem",children:de.map((function(e,t){var n="".concat(t);return Object(w.jsx)(Z,{timer:e,timerId:n},n)}))})]})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,110)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),s(e),o(e)}))};i.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(a.a,{store:k,children:Object(w.jsx)(u.a,{children:Object(w.jsx)(le,{})})})}),document.getElementById("root")),je()},34:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.8f733bdb.chunk.js.map