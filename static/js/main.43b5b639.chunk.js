(this["webpackJsonpwork-timers"]=this["webpackJsonpwork-timers"]||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){"use strict";n.r(t);var c,r=n(1),i=n.n(r),o=n(23),s=n.n(o),a=n(33),u=n(8),d=(n(96),n(17));n(97);!function(e){e[e.CounterTimer=0]="CounterTimer",e[e.MultiStateTimer=1]="MultiStateTimer",e[e.Stopwatch=2]="Stopwatch"}(c||(c={}));n(41);var l=n(18),j=n(10);function m(e,t){var n=Object(r.useRef)(e);Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(!t)return function(){};var e=setInterval((function(){var e=n.current;e&&e()}),t);return function(){return clearInterval(e)}}),[t])}var b=n(12),p=n(38),O=Object(p.a)({name:"audio",initialState:{muted:!1,volume:.5},reducers:{setMuted:function(e,t){e.muted=t.payload},setVolume:function(e,t){e.volume=Math.min(Math.max(0,t.payload),1)}}}),f={seconds:0,stopped:!0,flashing:!1,muted:!1,timesCompleted:0,statesSeconds:[0,0,0,0,0,0,0,0,0,0,0,0]},x=Object(p.a)({name:"timers",initialState:{},reducers:{addTimer:function(e,t){e[t.payload]=Object(l.a)({},f)},setTimerState:function(e,t){e[t.payload.key]=t.payload.state},setTimerSeconds:function(e,t){e[t.payload.key].seconds=t.payload.value},setTimerStopped:function(e,t){e[t.payload.key].stopped=t.payload.value},setTimerTimesCompleted:function(e,t){e[t.payload.key].timesCompleted=t.payload.value},setTimerFlashing:function(e,t){e[t.payload.key].flashing=t.payload.value},setTimerMuted:function(e,t){e[t.payload.key].muted=t.payload.value},setStatesSeconds:function(e,t){e[t.payload.key].statesSeconds=t.payload.value},setStatesSecondsAt:function(e,t){e[t.payload.key].statesSeconds[t.payload.index]=t.payload.value},addStatesSecondsAt:function(e,t){e[t.payload.key].statesSeconds[t.payload.index]+=t.payload.value},startAllTimers:function(e){Object.keys(e).forEach((function(t){e[t].stopped=!1}))},stopAllTimers:function(e){Object.keys(e).forEach((function(t){e[t].stopped=!0}))}}}),h=Object(b.b)({timers:x.reducer,audio:O.reducer}),g=Object(b.d)(h),v=function(){return Object(a.b)()},S=a.c,k=g,C=x.actions;function T(e,t){var n=S((function(e){return e.timers})),c=v(),i=Object(r.useMemo)((function(){return e in n?n[e]:void 0}),[n,e]),o=function(e){var t=Object(r.useState)(0),n=Object(j.a)(t,2),c=n[0],i=n[1],o=Object(r.useState)(!0),s=Object(j.a)(o,2),a=s[0],u=s[1];return m((function(){a||(i(c+1),e&&e())}),1e3),{currentSeconds:c,stopped:a,setStopped:u}}(t),s=o.currentSeconds,a=o.stopped,u=o.setStopped,d=Object(r.useCallback)((function(t){i&&c(C.setTimerSeconds({key:e,value:t}))}),[e,i,c]),l=Object(r.useCallback)((function(t){i&&c(C.setTimerStopped({key:e,value:t}))}),[e,i,c]),b=Object(r.useCallback)((function(t){i&&c(C.setTimerFlashing({key:e,value:t}))}),[e,i,c]),p=Object(r.useCallback)((function(t){i&&c(C.setTimerMuted({key:e,value:t}))}),[e,i,c]),O=Object(r.useCallback)((function(){i&&c(C.setTimerTimesCompleted({key:e,value:i.timesCompleted+1}))}),[e,i,c]);return Object(r.useEffect)((function(){i&&i.stopped!==a&&u(i.stopped)}),[i,a,u]),Object(r.useEffect)((function(){i&&s!==i.seconds&&d(s)}),[i,s,d]),{timerState:i,seconds:i?i.seconds:-1,stopped:!i||i.stopped,flashing:!i||i.flashing,muted:!i||i.muted,setStopped:l,setFlashing:b,setMuted:p,incrementTimesCompleted:O}}function y(e,t,n){var c=T(e,n),i=c.timerState,o=c.stopped,s=c.seconds,a=c.flashing,u=c.setStopped,d=c.setFlashing,m=c.incrementTimesCompleted,b=Object(r.useState)(0),p=Object(j.a)(b,2),O=p[0],f=p[1],x=Object(r.useState)(!1),h=Object(j.a)(x,2),g=h[0],v=h[1],S=Object(r.useCallback)((function(){f(s),d(!1)}),[f,s,d]),k=Object(r.useCallback)((function(){m(),d(!1)}),[m,d]),C=Object(r.useMemo)((function(){if(i){var e=t-(i.seconds-O);return e<=0&&!a&&!g?d(!0):e<=0&&g&&(v(!1),S()),e}return 99999999999999}),[t,i,O,g,a,v,S,d]),y=Object(r.useMemo)((function(){return i?Math.max(0,C):-1}),[C,i]),M=Object(r.useCallback)((function(){S(),u(!0)}),[S,u]),A=Object(r.useCallback)((function(){S(),u(!1)}),[S,u]);return Object(l.a)(Object(l.a)({},c),{},{timerState:i,secondsRemaining:y,stopped:o,markedForRestart:g,setStopped:u,setFlashing:d,resetTimer:S,resetTimerAndStop:M,resetTimerAndStart:A,incrementTimesCompleted:k,setMarkedForRestart:function(){return v(!0)}})}var M,A,I=n(25),w=n(4);!function(e){e[e.Normal=0]="Normal",e[e.Stopped=1]="Stopped",e[e.MarkedForRestart=2]="MarkedForRestart",e[e.Active=3]="Active"}(A||(A={}));var R=(M={},Object(I.a)(M,A.Normal,"black"),Object(I.a)(M,A.Stopped,"red"),Object(I.a)(M,A.MarkedForRestart,"green"),Object(I.a)(M,A.Active,"green"),M),F=function(e){return e<10?"0".concat(e):e},z=function(e){var t=e.seconds,n=e.state,c=e.size,i=void 0===c?"3xl":c,o=e.heading,s=e.headingColor,a=void 0===s?"gray.500":s,u=Object(r.useMemo)((function(){return function(e){var t="".concat(F(e.minutes),":").concat(F(e.seconds));return e.hours>0?"".concat(F(e.hours),":")+t:t}(function(e){var t=e;return{hours:~~(t/3600),minutes:~~((t%=3600)/60),seconds:t%=60}}(t))}),[t]),l=Object(w.jsx)(d.d,{size:i,color:R[n],children:u});return o?Object(w.jsxs)(d.g,{align:"center",children:[Object(w.jsx)(d.d,{size:"md",color:a,children:o}),l]}):l},N=n(24),E=function(e){var t=e.stopped,n=e.onClick;return Object(w.jsx)(d.a,{onClick:n,children:t?Object(w.jsx)(N.d,{size:90}):Object(w.jsx)(N.c,{size:90})})},B=n(46),V=function(e){var t=e.onClick,n=e.buttonText,c=void 0===n?"Restart":n;return Object(w.jsx)(d.a,{onClick:t,children:Object(w.jsx)(B.a,{bg:"blue.100",leftIcon:Object(w.jsx)(N.a,{size:20}),children:c})})},W=function(e){var t=e.onClick,n=e.buttonText,c=void 0===n?"Complete":n;return Object(w.jsx)(d.a,{onClick:t,children:Object(w.jsx)(B.a,{bg:"blue.100",leftIcon:Object(w.jsx)(N.b,{size:20}),children:c})})},L=n(52),P=function(e){var t=e.onClick,n=e.buttonText,c=void 0===n?"Complete":n;return Object(w.jsx)(d.a,{onClick:t,children:Object(w.jsx)(B.a,{bg:"blue.100",leftIcon:Object(w.jsx)(L.a,{size:20}),children:c})})},D=n(26),J=function(e){var t=e.muted,n=e.volume,c=e.onClick,i=e.color,o=void 0===i?"white":i,s=e.hoverColor,a=void 0===s?"#dddddd":s,u=e.size,d=void 0===u?40:u,m=Object(r.useState)(o),b=Object(j.a)(m,2),p=b[0],O=b[1],f={color:p,size:d,onMouseEnter:function(){return O(a)},onMouseLeave:function(){return O(o)},onClick:c};return t?Object(w.jsx)(D.e,Object(l.a)({},f)):0===n?Object(w.jsx)(D.b,Object(l.a)({},f)):n<.5?Object(w.jsx)(D.d,Object(l.a)({},f)):Object(w.jsx)(D.c,Object(l.a)({},f))},H=function(e){var t=e.title,n=e.muteButtonProps,c=e.subTitle;return n?Object(w.jsxs)(d.c,{width:"100%",children:[Object(w.jsx)(J,{muted:n.muted,volume:1,onClick:function(){return n.setMuted(!n.muted)},size:60,color:"#dddddd",hoverColor:"#888888"}),Object(w.jsx)(d.f,{}),Object(w.jsxs)(d.g,{align:"center",ml:"-".concat(60,"px"),children:[Object(w.jsx)(d.d,{size:"lg",children:t}),c&&Object(w.jsx)(d.d,{size:"md",color:"gray.500",fontWeight:"semibold",letterSpacing:"wide",children:c})]}),Object(w.jsx)(d.f,{}),Object(w.jsx)("div",{})]}):Object(w.jsxs)(d.g,{align:"center",children:[Object(w.jsx)(d.d,{size:"lg",children:t}),c]})},q=function(e){var t=e.text;return Object(w.jsx)(d.d,{size:"md",color:"gray.500",fontWeight:"semibold",letterSpacing:"wide",children:t})},G=function(e){var t=e.timer,n=function(e,t){var n=y(e,t.durationInSeconds),c=n.timerState,i=n.secondsRemaining,o=n.stopped,s=n.markedForRestart,a=n.muted,u=n.setMuted,d=n.setStopped,l=n.incrementTimesCompleted,j=n.resetTimer,m=n.setMarkedForRestart,b=c?c.timesCompleted:-1,p=Object(r.useCallback)((function(){l(),j()}),[l,j]),O=Object(r.useCallback)((function(){l(),m()}),[l,m]);return{timesCompleted:b,secondsRemaining:i,stopped:o,markedForRestart:s,muted:a,setMuted:u,setStopped:d,complete:l,restart:j,completeAndRestart:p,completeAndMarkForRestart:O}}(e.timerId,t);return Object(w.jsxs)(d.g,{align:"center",height:"100%",children:[Object(w.jsx)(H,{title:t.title,muteButtonProps:{muted:n.muted,setMuted:n.setMuted},subTitle:Object(w.jsx)(q,{text:"Completed ".concat(n.timesCompleted," times today")})}),Object(w.jsx)(z,{seconds:n.secondsRemaining,state:n.stopped?A.Stopped:n.markedForRestart?A.MarkedForRestart:A.Normal}),Object(w.jsxs)(d.g,{direction:"column",spacing:"1rem",align:"center",children:[Object(w.jsx)(E,{stopped:n.stopped,onClick:function(){return n.setStopped(!n.stopped)}}),Object(w.jsxs)(d.g,{direction:"row",marginTop:"0px !important",children:[n.secondsRemaining>0&&Object(w.jsx)(P,{onClick:n.complete}),Object(w.jsx)(W,{onClick:n.completeAndRestart}),n.secondsRemaining>0&&Object(w.jsx)(V,{onClick:n.completeAndMarkForRestart,buttonText:"Complete and Autorestart"})]}),Object(w.jsx)(V,{onClick:n.restart})]})]})},K="gray.100";var Q=function(e){var t=e.timer,n=T(e.timerId);return Object(w.jsxs)(d.g,{align:"center",height:"100%",children:[Object(w.jsx)(H,{title:t.title}),Object(w.jsxs)(d.c,{direction:"column",align:"center",height:"100%",justifyContent:"space-around",children:[Object(w.jsx)(z,{seconds:n.seconds,state:n.stopped?A.Stopped:A.Normal}),Object(w.jsx)(E,{stopped:n.stopped,onClick:function(){return n.setStopped(!n.stopped)}})]})]})},U=function(e){var t=e.onClick,n=e.buttonText,c=void 0===n?"Next":n;return Object(w.jsx)(d.a,{onClick:t,children:Object(w.jsx)(B.a,{bg:"blue.100",leftIcon:Object(w.jsx)(D.a,{size:30}),children:c})})},X=x.actions;var Y=function(e){var t=e.timer,n=function(e,t){var n=Object(r.useState)(0),c=Object(j.a)(n,2),i=c[0],o=c[1],s=Object(r.useMemo)((function(){return t[i]}),[t,i]),a=v(),u=Object(r.useCallback)((function(t){a(X.addStatesSecondsAt({key:e,index:i,value:t}))}),[a,i,e]),d=y(e,s.durationInSeconds,(function(){return u(1)})),l=d.timerState,m=Object(r.useCallback)((function(){return i>=t.length-1?0:i+1}),[i,t]),b=Object(r.useMemo)((function(){return t[m()].title}),[t,m]),p=Object(r.useCallback)((function(){d.resetTimer(),o(m())}),[o,d,m]),O=Object(r.useMemo)((function(){return l?t.map((function(e,t){return{title:e.title,totalSeconds:l.statesSeconds[t]}})):[]}),[l,t]);return{currentIndex:i,currentTitle:s.title,nextStateTitle:b,secondsRemaining:d.secondsRemaining,stopped:d.stopped,states:O,setStopped:d.setStopped,muted:d.muted,setMuted:d.setMuted,moveToNextState:p}}(e.timerId,t.states);return Object(w.jsxs)(d.g,{align:"center",height:"100%",children:[Object(w.jsx)(H,{title:t.title,muteButtonProps:{muted:n.muted,setMuted:n.setMuted},subTitle:Object(w.jsx)(d.g,{direction:"row",align:"center",spacing:"5rem",children:n.states.map((function(e,t){return Object(w.jsx)(z,{seconds:e.totalSeconds,size:"xl",state:n.currentIndex===t?n.stopped?A.Stopped:A.Active:A.Normal,heading:e.title,headingColor:n.currentIndex===t?"black":"gray.500"},"".concat(t))}))})}),Object(w.jsxs)(d.c,{direction:"column",align:"center",height:"100%",justifyContent:"space-around",children:[Object(w.jsx)(d.d,{size:"lg",children:n.currentTitle}),Object(w.jsx)(z,{seconds:n.secondsRemaining,state:n.stopped?A.Stopped:A.Normal}),Object(w.jsx)(E,{stopped:n.stopped,onClick:function(){return n.setStopped(!n.stopped)}}),Object(w.jsx)(U,{onClick:n.moveToNextState,buttonText:"Switch to ".concat(n.nextStateTitle)})]})]})},Z=function(e){var t=e.timerId,n=e.children,c=function(e){var t=S((function(e){return e.timers})),n=Object(r.useState)(K),c=Object(j.a)(n,2),i=c[0],o=c[1],s=Object(r.useMemo)((function(){return!(e in t)||!t[e].stopped&&t[e].flashing}),[t,e]);return m((function(){s?o(i===K?"yellow.200":K):i!==K&&o(K)}),200),{flashing:s,bgColor:i}}(t),i=c.bgColor;return Object(w.jsx)(d.b,{maxW:"container.xl",children:Object(w.jsx)(d.a,{borderWidth:"1px",borderRadius:"lg",className:"timer",bg:i,p:"1rem",height:"100%",children:n})})},$=function(e){var t=e.timer,n=e.timerId;return t.type===c.CounterTimer?Object(w.jsx)(Z,{timerId:n,children:Object(w.jsx)(G,{timer:t,timerId:n})}):t.type===c.Stopwatch?Object(w.jsx)(Z,{timerId:n,children:Object(w.jsx)(Q,{timer:t,timerId:n})}):t.type===c.MultiStateTimer?Object(w.jsx)(Z,{timerId:n,children:Object(w.jsx)(Y,{timerId:n,timer:t})}):Object(w.jsxs)("div",{className:"timer",children:["Invalid renderer for ",t.title]})},_=n(53),ee=(n(102),n(47)),te=n(48),ne=function(e){var t=e.value,n=e.setValue,c=e.disabled,r=i.a.useState(!1),o=Object(j.a)(r,2),s=o[0],a=o[1];return Object(w.jsxs)(ee.a,{"aria-label":"slider-ex-6",onChange:function(e){return n(e)},width:"10rem",onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},isReversed:!0,isDisabled:c,children:[Object(w.jsx)(ee.c,{value:t,textAlign:"center",bg:"blue.500",color:"white",mt:"-10",ml:"-5",w:"12"}),Object(w.jsx)(ee.e,{bg:"white",children:Object(w.jsx)(ee.b,{bg:"blue.500"})}),Object(w.jsx)(te.a,{hasArrow:!0,bg:"teal.500",color:"white",placement:"top",isOpen:s,label:"".concat(Math.round(t),"%"),children:Object(w.jsx)(ee.d,{})})]})},ce=O.actions;function re(){var e=S((function(e){return e.audio})),t=v(),n=Object(r.useCallback)((function(e){return t(ce.setMuted(e))}),[t]),c=Object(r.useCallback)((function(e){return t(ce.setVolume(e))}),[t]);return{muted:e.muted,setMuted:n,volume:e.volume,setVolume:c}}var ie=function(){var e=re(),t=e.volume,n=e.setVolume,c=e.muted,r=e.setMuted;return Object(w.jsxs)(d.g,{direction:"row",align:"center",children:[Object(w.jsx)(ne,{value:100*t,setValue:function(e){return n(e/100)},disabled:c}),Object(w.jsx)(J,{muted:c,volume:t,onClick:function(){return r(!c)}}),Object(w.jsx)("div",{style:{marginRight:"1rem"}})]})},oe=function(e){var t=e.startAllTimers,n=e.stopAllTimers;return Object(w.jsx)(d.a,{bg:"tomato",w:"100%",className:"header",children:Object(w.jsxs)(d.c,{width:"100%",children:[Object(w.jsxs)(d.g,{direction:"row",spacing:"1rem",ml:"1rem",pt:"5px",pb:"5px",align:"center",children:[Object(w.jsx)(_.a,{size:40,color:"white"}),Object(w.jsx)(d.d,{size:"xl",color:"white",children:"Timers Lesgooo"}),Object(w.jsx)(B.a,{bg:"blue.100",onClick:t,children:"Start All"}),Object(w.jsx)(B.a,{bg:"blue.100",onClick:n,children:"Stop All"})]}),Object(w.jsx)(d.f,{}),Object(w.jsx)(ie,{})]})})},se=x.actions;var ae=n.p+"static/media/beep.c21038da.mp3";function ue(){var e=S((function(e){return e.timers})),t=Object(r.useMemo)((function(){return function(e){for(var t=Object.keys(e).map((function(t){return e[t]})),n=0;n<t.length;n++)if(t[n].flashing&&!t[n].stopped&&!t[n].muted)return!0;return!1}(e)}),[e]),n=re(),c=n.muted,i=n.volume,o=Object(r.useState)(new Audio(ae)),s=Object(j.a)(o,1)[0];Object(r.useEffect)((function(){s.volume=c?0:i}),[s,c,i]),m((function(){t&&s.play()}),1e3)}var de={waterTimer:{type:c.CounterTimer,title:"Drink 1/2 Hydroflask",durationInSeconds:30},officeTimer:{type:c.Stopwatch,title:"In Office"},standingTimer:{type:c.MultiStateTimer,title:"Stand some you lazy ass",states:[{title:"Sitting",durationInSeconds:20},{title:"Standing",durationInSeconds:20}]},breakTimer:{type:c.MultiStateTimer,title:"Take a break my boi",states:[{title:"Working",durationInSeconds:45},{title:"Breaking.. bad",durationInSeconds:15}]}},le=Object.values(de),je=function(){var e=function(){var e=v();return{addTimers:Object(r.useCallback)((function(t){for(var n=0;n<t;n++)console.log("Adding timer ".concat(n)),e(se.addTimer("".concat(n)))}),[e]),startAllTimers:Object(r.useCallback)((function(){return e(se.startAllTimers())}),[e]),stopAllTimers:Object(r.useCallback)((function(){return e(se.stopAllTimers())}),[e])}}(),t=e.addTimers,n=e.startAllTimers,c=e.stopAllTimers;return Object(r.useEffect)((function(){t(le.length)}),[t]),ue(),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(oe,{startAllTimers:n,stopAllTimers:c}),Object(w.jsx)(d.e,{minChildWidth:"500px",spacing:"40px",marginTop:"5rem",marginBottom:"2rem",children:le.map((function(e,t){var n="".concat(t);return Object(w.jsx)($,{timer:e,timerId:n},n)}))})]})},me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,110)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))};s.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(a.a,{store:k,children:Object(w.jsx)(u.a,{children:Object(w.jsx)(je,{})})})}),document.getElementById("root")),me()},41:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.43b5b639.chunk.js.map