{"version":3,"sources":["logic/Timer.ts","logic/hooks/useInterval.ts","state/audioSlice.ts","state/timersSlice.ts","rootReducer.ts","store.ts","state/useTimerState.ts","logic/hooks/useTimer.ts","logic/hooks/useCountdownTimer.ts","components/TimeDisplay.tsx","components/Buttons/PlayStopButton.tsx","components/Buttons/RestartButton.tsx","components/Buttons/RestartPlusButton.tsx","components/Buttons/PlusButton.tsx","components/MuteButton.tsx","components/TimerHeader.tsx","layout/timer/CounterTimerRenderer.tsx","logic/hooks/useCounterTimer.ts","state/useTimerFlashingState.ts","layout/timer/StopwatchTimerRenderer.tsx","components/Buttons/NextButton.tsx","logic/hooks/useMultiStateTimer.ts","layout/timer/MultiStateTimerRenderer.tsx","layout/timer/TimerRenderer.tsx","components/AudioSlider.tsx","state/useAudioState.ts","layout/header/HeaderAudioSlider.tsx","layout/header/Header.tsx","state/useGlobalTimersState.ts","state/beep.mp3","state/useBeeping.ts","App.tsx","reportWebVitals.js","index.js"],"names":["TimerType","useInterval","callback","delayInMs","callbackRef","useRef","useEffect","current","interval","setInterval","clearInterval","audioSlice","createSlice","name","initialState","muted","volume","reducers","setMuted","state","action","payload","setVolume","console","log","Math","min","max","defaultTimerState","seconds","stopped","flashing","timesCompleted","statesSeconds","timersSlice","addTimer","setTimerState","key","setTimerSeconds","value","setTimerStopped","setTimerTimesCompleted","setTimerFlashing","setTimerMuted","setStatesSeconds","setStatesSecondsAt","index","addStatesSecondsAt","startAllTimers","Object","keys","forEach","stopAllTimers","rootReducer","combineReducers","timers","reducer","audio","store","createStore","useAppDispatch","useDispatch","useAppSelector","useSelector","actions","useTimerState","onTick","dispatch","timerState","useMemo","undefined","useState","setSeconds","setStopped","currentSeconds","useTimer","timerStopped","setReduxSeconds","useCallback","setFlashing","incrementTimesCompleted","useCountdownTimer","durationInSeconds","useTimerStateResponse","previousFinishedTimestamp","setPreviousFinishedTimestamp","markedForRestart","setMarkedForRestart","resetTimer","incrementTimesCompletedCallback","secondsRemainingCalculation","calculation","secondsRemaining","resetTimerAndStop","resetTimerAndStart","TimeDisplayState","timeDisplayStateToColor","Normal","Stopped","MarkedForRestart","Active","getNumberDisplay","TimeDisplay","size","heading","timeDisplay","displayString","minutes","hours","getTimeDisplayString","getTimeDisplay","timeDisplayElement","color","align","PlayStopButton","onClick","RestartButton","buttonText","bg","leftIcon","RestartPlusButton","PlusButton","MuteButton","hoverColor","volumeIconColor","setVolumeIconColor","iconProps","onMouseEnter","onMouseLeave","TimerHeader","title","muteButtonProps","width","ml","CounterTimerRenderer","timer","completeAndRestart","completeAndMarkForRestart","complete","restart","useCounterTimer","timerId","className","fontWeight","letterSpacing","direction","spacing","NON_FLASH_COLOR","StopwatchTimerRenderer","NextButton","MultiStateTimerRenderer","states","currentStateIndex","setCurrentStateIndex","currentState","addSecondsToCurrentState","incrementBy","countdownState","getNextStateIndex","length","nextStateTitle","moveToNextState","statesResponse","map","multiTimerState","i","totalSeconds","currentIndex","currentTitle","useMultiStateTimer","stateState","TimerContainer","children","timersState","bgColor","setBgColor","useTimerFlashingState","maxW","borderWidth","borderRadius","p","height","TimerRenderer","type","CounterTimer","Stopwatch","MultiStateTimer","AudioSlider","setValue","disabled","React","showTooltip","setShowTooltip","onChange","val","isReversed","isDisabled","textAlign","mt","w","placement","hasArrow","isOpen","label","round","useAudioState","HeaderAudioSlider","style","marginRight","Header","pt","pb","useBeeping","anyFlashing","shouldBeep","Audio","file","play","waterTimer","officeTimer","standingTimer","breakTimer","timersList","values","App","addTimers","count","useGlobalTimersState","minChildWidth","marginTop","marginBottom","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8171a63a.chunk.js","sourcesContent":["export enum TimerType {\r\n  CounterTimer,\r\n  MultiStateTimer,\r\n  Stopwatch,\r\n}\r\n\r\nexport interface Timer {\r\n  type: TimerType;\r\n  title: string;\r\n}\r\n\r\nexport type TimerMap = { [key: string]: Timer };\r\n\r\nexport interface CounterTimer extends Timer {\r\n  type: TimerType.CounterTimer;\r\n  durationInSeconds: number;\r\n}\r\n\r\nexport interface StopwatchTimer extends Timer {\r\n  type: TimerType.Stopwatch;\r\n}\r\n\r\nexport interface TimerState {\r\n  title: string;\r\n  durationInSeconds: number;\r\n}\r\n\r\nexport interface MultiStateTimer extends Timer {\r\n  type: TimerType.MultiStateTimer;\r\n  states: TimerState[];\r\n  // TODO keepInitialRatio: boolean; // calculates ratio between each timer state and if you go over or switch early, it increases/decreases other times\r\n}\r\n","import { useEffect, useRef } from \"react\";\r\n\r\nexport default function useInterval(\r\n  callback: () => void,\r\n  delayInMs: number\r\n): void {\r\n  const callbackRef = useRef(callback);\r\n\r\n  useEffect(() => {\r\n    callbackRef.current = callback;\r\n  }, [callback]);\r\n\r\n  useEffect(() => {\r\n    if (!delayInMs) {\r\n      return () => {};\r\n    }\r\n\r\n    const interval = setInterval(() => {\r\n      const current = callbackRef.current as undefined | (() => void);\r\n      current && current();\r\n    }, delayInMs);\r\n    return () => clearInterval(interval);\r\n  }, [delayInMs]);\r\n}\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\nexport interface AudioState {\r\n  muted: boolean;\r\n  volume: number; // between 0 and 1\r\n}\r\n\r\nconst initialState: AudioState = {\r\n  muted: false,\r\n  volume: 0.5,\r\n};\r\n\r\nconst audioSlice = createSlice({\r\n  name: \"audio\",\r\n  initialState,\r\n  reducers: {\r\n    setMuted: (state, action: PayloadAction<boolean>) => {\r\n      state.muted = action.payload;\r\n    },\r\n    setVolume: (state, action: PayloadAction<number>) => {\r\n      console.log(`Setting volume to ${action.payload}`);\r\n      state.volume = Math.min(Math.max(0, action.payload), 1);\r\n    },\r\n  },\r\n});\r\n\r\nexport default audioSlice;\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\n\r\nexport interface TimerState {\r\n  seconds: number;\r\n  stopped: boolean;\r\n  flashing: boolean;\r\n  // any timers with audio\r\n  muted: boolean;\r\n  // counter timer specific\r\n  timesCompleted: number;\r\n  // multi state timer specific\r\n  statesSeconds: number[];\r\n}\r\n\r\nexport interface TimersState {\r\n  [key: string]: TimerState;\r\n}\r\n\r\nconst defaultTimerState: TimerState = {\r\n  seconds: 0,\r\n  stopped: true,\r\n  flashing: false,\r\n  muted: false,\r\n  timesCompleted: 0,\r\n  statesSeconds: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\r\n};\r\n\r\nconst initialState: TimersState = {};\r\n\r\nconst timersSlice = createSlice({\r\n  name: \"timers\",\r\n  initialState,\r\n  reducers: {\r\n    // adding timer\r\n    addTimer: (state, action: PayloadAction<string>) => {\r\n      state[action.payload] = { ...defaultTimerState };\r\n    },\r\n    // individual timer actions\r\n    setTimerState: (\r\n      state,\r\n      action: PayloadAction<{ key: string; state: TimerState }>\r\n    ) => {\r\n      state[action.payload.key] = action.payload.state;\r\n    },\r\n    setTimerSeconds: (\r\n      state,\r\n      action: PayloadAction<{ key: string; value: number }>\r\n    ) => {\r\n      state[action.payload.key].seconds = action.payload.value;\r\n    },\r\n    setTimerStopped: (\r\n      state,\r\n      action: PayloadAction<{ key: string; value: boolean }>\r\n    ) => {\r\n      state[action.payload.key].stopped = action.payload.value;\r\n    },\r\n    setTimerTimesCompleted: (\r\n      state,\r\n      action: PayloadAction<{ key: string; value: number }>\r\n    ) => {\r\n      state[action.payload.key].timesCompleted = action.payload.value;\r\n    },\r\n    setTimerFlashing: (\r\n      state,\r\n      action: PayloadAction<{ key: string; value: boolean }>\r\n    ) => {\r\n      state[action.payload.key].flashing = action.payload.value;\r\n    },\r\n    setTimerMuted: (\r\n      state,\r\n      action: PayloadAction<{ key: string; value: boolean }>\r\n    ) => {\r\n      state[action.payload.key].muted = action.payload.value;\r\n    },\r\n    setStatesSeconds: (\r\n      state,\r\n      action: PayloadAction<{ key: string; value: number[] }>\r\n    ) => {\r\n      state[action.payload.key].statesSeconds = action.payload.value;\r\n    },\r\n    setStatesSecondsAt: (\r\n      state,\r\n      action: PayloadAction<{ key: string; index: number; value: number }>\r\n    ) => {\r\n      state[action.payload.key].statesSeconds[action.payload.index] =\r\n        action.payload.value;\r\n    },\r\n    addStatesSecondsAt: (\r\n      state,\r\n      action: PayloadAction<{ key: string; index: number; value: number }>\r\n    ) => {\r\n      state[action.payload.key].statesSeconds[action.payload.index] +=\r\n        action.payload.value;\r\n    },\r\n    // all timer actions\r\n    startAllTimers: (state) => {\r\n      const keys = Object.keys(state);\r\n      keys.forEach((key: string) => {\r\n        state[key].stopped = false;\r\n      });\r\n    },\r\n    stopAllTimers: (state) => {\r\n      const keys = Object.keys(state);\r\n      keys.forEach((key: string) => {\r\n        state[key].stopped = true;\r\n      });\r\n    },\r\n  },\r\n});\r\n\r\nexport default timersSlice;\r\n","import { combineReducers } from \"redux\";\r\nimport audioSlice from \"./state/audioSlice\";\r\nimport timersSlice from \"./state/timersSlice\";\r\n\r\nconst rootReducer = combineReducers({\r\n  timers: timersSlice.reducer,\r\n  audio: audioSlice.reducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\nimport { createStore } from \"redux\";\r\nimport rootReducer from \"./rootReducer\";\r\n\r\nconst store = createStore(rootReducer);\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\r\n\r\nexport default store;\r\n","import { useCallback, useEffect, useMemo } from \"react\";\r\nimport useTimer from \"../logic/hooks/useTimer\";\r\nimport { useAppDispatch, useAppSelector } from \"../store\";\r\nimport timersSlice, { TimerState } from \"./timersSlice\";\r\n\r\nexport interface UseTimerStateResponse {\r\n  timerState: TimerState | undefined;\r\n  seconds: number;\r\n  stopped: boolean;\r\n  setStopped: (stopped: boolean) => void;\r\n  flashing: boolean;\r\n  setFlashing: (flashing: boolean) => void;\r\n  muted: boolean;\r\n  setMuted: (muted: boolean) => void;\r\n  incrementTimesCompleted: () => void;\r\n}\r\n\r\nconst actions = timersSlice.actions;\r\n\r\nexport default function useTimerState(\r\n  key: string,\r\n  onTick?: () => void\r\n): UseTimerStateResponse {\r\n  const state = useAppSelector((state) => state.timers);\r\n  const dispatch = useAppDispatch();\r\n\r\n  const timerState = useMemo(\r\n    () => (key in state ? state[key] : undefined),\r\n    [state, key]\r\n  );\r\n\r\n  const {\r\n    currentSeconds,\r\n    stopped: timerStopped,\r\n    setStopped: setTimerStopped,\r\n  } = useTimer(onTick);\r\n\r\n  const setReduxSeconds = useCallback(\r\n    (seconds: number) => {\r\n      if (timerState) {\r\n        dispatch(actions.setTimerSeconds({ key, value: seconds }));\r\n      }\r\n    },\r\n    [key, timerState, dispatch, setTimerStopped]\r\n  );\r\n\r\n  const setStopped = useCallback(\r\n    (stopped: boolean) => {\r\n      if (timerState) {\r\n        dispatch(actions.setTimerStopped({ key, value: stopped }));\r\n      }\r\n    },\r\n    [key, timerState, dispatch, setTimerStopped]\r\n  );\r\n\r\n  const setFlashing = useCallback(\r\n    (flashing: boolean) => {\r\n      if (timerState) {\r\n        dispatch(actions.setTimerFlashing({ key, value: flashing }));\r\n      }\r\n    },\r\n    [key, timerState, dispatch]\r\n  );\r\n\r\n  const setMuted = useCallback(\r\n    (muted: boolean) => {\r\n      if (timerState) {\r\n        dispatch(actions.setTimerMuted({ key, value: muted }));\r\n      }\r\n    },\r\n    [key, timerState, dispatch]\r\n  );\r\n\r\n  const incrementTimesCompleted = useCallback(() => {\r\n    if (timerState) {\r\n      dispatch(\r\n        actions.setTimerTimesCompleted({\r\n          key,\r\n          value: timerState.timesCompleted + 1,\r\n        })\r\n      );\r\n    }\r\n  }, [key, timerState, dispatch]);\r\n\r\n  // if timerState.stopped changes, call setTimerStopped from useTimer\r\n  useEffect(() => {\r\n    if (timerState && timerState.stopped !== timerStopped) {\r\n      setTimerStopped(timerState.stopped);\r\n    }\r\n  }, [timerState, timerStopped, setTimerStopped]);\r\n\r\n  // if currentSeconds changes, call setReduxSeconds\r\n  useEffect(() => {\r\n    if (timerState && currentSeconds !== timerState.seconds)\r\n      setReduxSeconds(currentSeconds);\r\n  }, [timerState, currentSeconds, setReduxSeconds]);\r\n\r\n  return {\r\n    timerState,\r\n    seconds: timerState ? timerState.seconds : -1,\r\n    stopped: timerState ? timerState.stopped : true,\r\n    flashing: timerState ? timerState.flashing : true,\r\n    muted: timerState ? timerState.muted : true,\r\n    setStopped,\r\n    setFlashing,\r\n    setMuted,\r\n    incrementTimesCompleted,\r\n  };\r\n}\r\n","import { useCallback, useState } from \"react\";\r\nimport useInterval from \"./useInterval\";\r\n\r\nexport interface UseTimerResponse {\r\n  currentSeconds: number;\r\n  stopped: boolean;\r\n  setStopped: (stopped: boolean) => void;\r\n}\r\n\r\nexport default function useTimer(onTick?: () => void): UseTimerResponse {\r\n  const [seconds, setSeconds] = useState(0);\r\n  const [stopped, setStopped] = useState(true);\r\n\r\n  useInterval(() => {\r\n    if (!stopped) {\r\n      setSeconds(seconds + 1);\r\n      if (onTick) {\r\n        onTick();\r\n      }\r\n    }\r\n  }, 1000);\r\n\r\n  return {\r\n    currentSeconds: seconds,\r\n    stopped,\r\n    setStopped,\r\n  };\r\n}\r\n","import { useCallback, useMemo, useState } from \"react\";\r\nimport useTimerState, {\r\n  UseTimerStateResponse,\r\n} from \"../../state/useTimerState\";\r\n\r\ninterface UseCountdownTimerResponse\r\n  extends Omit<UseTimerStateResponse, \"seconds\"> {\r\n  secondsRemaining: number;\r\n  markedForRestart: boolean;\r\n  resetTimer: () => void;\r\n  resetTimerAndStop: () => void;\r\n  resetTimerAndStart: () => void;\r\n  setMarkedForRestart: () => void;\r\n}\r\n\r\nexport default function useCountdownTimer(\r\n  key: string,\r\n  durationInSeconds: number,\r\n  onTick?: () => void\r\n): UseCountdownTimerResponse {\r\n  const useTimerStateResponse = useTimerState(key, onTick);\r\n  const {\r\n    timerState,\r\n    stopped,\r\n    seconds,\r\n    flashing,\r\n    setStopped,\r\n    setFlashing,\r\n    incrementTimesCompleted,\r\n  } = useTimerStateResponse;\r\n\r\n  const [previousFinishedTimestamp, setPreviousFinishedTimestamp] = useState(0);\r\n  const [markedForRestart, setMarkedForRestart] = useState(false);\r\n\r\n  const resetTimer = useCallback(() => {\r\n    setPreviousFinishedTimestamp(seconds);\r\n    setFlashing(false);\r\n  }, [setPreviousFinishedTimestamp, seconds, setFlashing]);\r\n\r\n  const incrementTimesCompletedCallback = useCallback(() => {\r\n    incrementTimesCompleted();\r\n    setFlashing(false);\r\n  }, [incrementTimesCompleted, setFlashing]);\r\n\r\n  const secondsRemainingCalculation = useMemo(() => {\r\n    if (timerState) {\r\n      const calculation =\r\n        durationInSeconds - (timerState.seconds - previousFinishedTimestamp);\r\n      if (calculation <= 0 && !flashing && !markedForRestart) {\r\n        setFlashing(true);\r\n      } else if (calculation <= 0 && markedForRestart) {\r\n        setMarkedForRestart(false);\r\n        resetTimer();\r\n      }\r\n      return calculation;\r\n    }\r\n    return 99999999999999;\r\n  }, [\r\n    durationInSeconds,\r\n    timerState,\r\n    previousFinishedTimestamp,\r\n    markedForRestart,\r\n    flashing,\r\n    setMarkedForRestart,\r\n    resetTimer,\r\n    setFlashing,\r\n  ]);\r\n\r\n  const secondsRemaining = useMemo(() => {\r\n    if (timerState) {\r\n      return Math.max(0, secondsRemainingCalculation);\r\n    }\r\n    return -1;\r\n  }, [secondsRemainingCalculation, timerState]);\r\n\r\n  const resetTimerAndStop = useCallback(() => {\r\n    resetTimer();\r\n    setStopped(true);\r\n  }, [resetTimer, setStopped]);\r\n\r\n  const resetTimerAndStart = useCallback(() => {\r\n    resetTimer();\r\n    setStopped(false);\r\n  }, [resetTimer, setStopped]);\r\n\r\n  return {\r\n    ...useTimerStateResponse,\r\n    timerState,\r\n    secondsRemaining,\r\n    stopped,\r\n    markedForRestart,\r\n    setStopped,\r\n    setFlashing,\r\n    resetTimer,\r\n    resetTimerAndStop,\r\n    resetTimerAndStart,\r\n    incrementTimesCompleted: incrementTimesCompletedCallback,\r\n    setMarkedForRestart: () => setMarkedForRestart(true),\r\n  };\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport { Heading, Stack } from \"@chakra-ui/react\";\r\n\r\nexport enum TimeDisplayState {\r\n  Normal,\r\n  Stopped,\r\n  MarkedForRestart,\r\n  Active,\r\n}\r\n\r\nconst timeDisplayStateToColor: { [stateValue in TimeDisplayState]: string } = {\r\n  [TimeDisplayState.Normal]: \"black\",\r\n  [TimeDisplayState.Stopped]: \"red\",\r\n  [TimeDisplayState.MarkedForRestart]: \"green\",\r\n  [TimeDisplayState.Active]: \"green\",\r\n};\r\n\r\ninterface TimeDisplayProps {\r\n  seconds: number;\r\n  state: TimeDisplayState;\r\n  size?: string;\r\n  heading?: string;\r\n}\r\n\r\ninterface TimeDisplay {\r\n  hours: number;\r\n  minutes: number;\r\n  seconds: number;\r\n}\r\n\r\nconst getTimeDisplay = (seconds: number): TimeDisplay => {\r\n  let secondsRemaining = seconds;\r\n\r\n  const hours = ~~(secondsRemaining / 3600);\r\n  secondsRemaining = secondsRemaining % 3600;\r\n\r\n  const minutes = ~~(secondsRemaining / 60);\r\n  secondsRemaining = secondsRemaining % 60;\r\n\r\n  return {\r\n    hours,\r\n    minutes,\r\n    seconds: secondsRemaining,\r\n  };\r\n};\r\n\r\nconst getNumberDisplay = (value: number): string | number => {\r\n  return value < 10 ? `0${value}` : value;\r\n};\r\n\r\nconst getTimeDisplayString = (timeDisplay: TimeDisplay): string => {\r\n  const displayString = `${getNumberDisplay(\r\n    timeDisplay.minutes\r\n  )}:${getNumberDisplay(timeDisplay.seconds)}`;\r\n  if (timeDisplay.hours > 0) {\r\n    return `${getNumberDisplay(timeDisplay.hours)}:` + displayString;\r\n  }\r\n  return displayString;\r\n};\r\n\r\nconst TimeDisplay = ({\r\n  seconds,\r\n  state,\r\n  size = \"3xl\",\r\n  heading,\r\n}: TimeDisplayProps): JSX.Element => {\r\n  const timeDisplay = useMemo(\r\n    () => getTimeDisplayString(getTimeDisplay(seconds)),\r\n    [seconds]\r\n  );\r\n  const timeDisplayElement: JSX.Element = (\r\n    <Heading size={size} color={timeDisplayStateToColor[state]}>\r\n      {timeDisplay}\r\n    </Heading>\r\n  );\r\n  if (!heading) {\r\n    return timeDisplayElement;\r\n  }\r\n\r\n  return (\r\n    <Stack align=\"center\">\r\n      <Heading size=\"sm\" color=\"gray.500\">\r\n        {heading}\r\n      </Heading>\r\n      {timeDisplayElement}\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport default TimeDisplay;\r\n","import React from \"react\";\r\nimport { Box } from \"@chakra-ui/react\";\r\nimport { MdPause, MdPlayArrow } from \"react-icons/md\";\r\n\r\ninterface PlayStopButtonProps {\r\n  stopped: boolean;\r\n  onClick: () => void;\r\n}\r\n\r\nconst ICON_SIZE = 90;\r\n\r\nconst PlayStopButton = ({\r\n  stopped,\r\n  onClick,\r\n}: PlayStopButtonProps): JSX.Element => {\r\n  return (\r\n    <Box onClick={onClick}>\r\n      {stopped ? (\r\n        <MdPlayArrow size={ICON_SIZE} />\r\n      ) : (\r\n        <MdPause size={ICON_SIZE} />\r\n      )}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PlayStopButton;\r\n","import React from \"react\";\r\nimport { Box, Button } from \"@chakra-ui/react\";\r\nimport { MdOutlineRestore } from \"react-icons/md\";\r\n\r\ninterface RestartButtonProps {\r\n  onClick: () => void;\r\n  buttonText?: string;\r\n}\r\n\r\nconst ICON_SIZE = 20;\r\n\r\nconst RestartButton = ({\r\n  onClick,\r\n  buttonText = \"Restart\",\r\n}: RestartButtonProps): JSX.Element => {\r\n  return (\r\n    <Box onClick={onClick}>\r\n      <Button bg=\"blue.100\" leftIcon={<MdOutlineRestore size={ICON_SIZE} />}>\r\n        {buttonText}\r\n      </Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default RestartButton;\r\n","import React from \"react\";\r\nimport { Box, Button } from \"@chakra-ui/react\";\r\nimport { MdOutlineSettingsBackupRestore } from \"react-icons/md\";\r\n\r\ninterface RestartPlusButtonProps {\r\n  onClick: () => void;\r\n  buttonText?: string;\r\n}\r\n//TiPlus\r\nconst ICON_SIZE = 20;\r\n\r\nconst RestartPlusButton = ({\r\n  onClick,\r\n  buttonText = \"Complete\",\r\n}: RestartPlusButtonProps): JSX.Element => {\r\n  return (\r\n    <Box onClick={onClick}>\r\n      <Button\r\n        bg=\"blue.100\"\r\n        leftIcon={<MdOutlineSettingsBackupRestore size={ICON_SIZE} />}\r\n      >\r\n        {buttonText}\r\n      </Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default RestartPlusButton;\r\n","import React from \"react\";\r\nimport { Box, Button } from \"@chakra-ui/react\";\r\nimport { TiPlus } from \"react-icons/ti\";\r\n\r\ninterface PlusButtonProps {\r\n  onClick: () => void;\r\n  buttonText?: string;\r\n}\r\n\r\nconst ICON_SIZE = 20;\r\n\r\nconst PlusButton = ({\r\n  onClick,\r\n  buttonText = \"Complete\",\r\n}: PlusButtonProps): JSX.Element => {\r\n  return (\r\n    <Box onClick={onClick}>\r\n      <Button bg=\"blue.100\" leftIcon={<TiPlus size={ICON_SIZE} />}>\r\n        {buttonText}\r\n      </Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default PlusButton;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  BiVolume,\r\n  BiVolumeFull,\r\n  BiVolumeLow,\r\n  BiVolumeMute,\r\n} from \"react-icons/bi\";\r\n\r\ninterface MuteButtonProps {\r\n  muted: boolean;\r\n  volume: number; // 0 to 1\r\n  color?: string;\r\n  hoverColor?: string;\r\n  size?: number;\r\n  onClick: () => void;\r\n}\r\n\r\nconst MuteButton = ({\r\n  muted,\r\n  volume,\r\n  onClick,\r\n  color = \"white\",\r\n  hoverColor = \"#dddddd\",\r\n  size = 40,\r\n}: MuteButtonProps): JSX.Element => {\r\n  const [volumeIconColor, setVolumeIconColor] = useState(color);\r\n\r\n  const iconProps = {\r\n    color: volumeIconColor,\r\n    size,\r\n    onMouseEnter: () => setVolumeIconColor(hoverColor),\r\n    onMouseLeave: () => setVolumeIconColor(color),\r\n    onClick,\r\n  };\r\n\r\n  if (muted) return <BiVolumeMute {...iconProps} />;\r\n  if (volume == 0) return <BiVolume {...iconProps} />;\r\n  if (volume < 0.5) return <BiVolumeLow {...iconProps} />;\r\n  return <BiVolumeFull {...iconProps} />;\r\n};\r\n\r\nexport default MuteButton;\r\n","import { Flex, Heading, Spacer } from \"@chakra-ui/react\";\r\nimport React from \"react\";\r\nimport MuteButton from \"./MuteButton\";\r\n\r\ninterface TimerHeaderProps {\r\n  title: string;\r\n  muteButtonProps?: {\r\n    muted: boolean;\r\n    setMuted: (muted: boolean) => void;\r\n  };\r\n}\r\n\r\nconst MUTE_BUTTON_SIZE = 60;\r\n\r\nconst TimerHeader = ({\r\n  title,\r\n  muteButtonProps,\r\n}: TimerHeaderProps): JSX.Element => {\r\n  if (!muteButtonProps) {\r\n    return <Heading size=\"lg\">{title}</Heading>;\r\n  }\r\n\r\n  return (\r\n    <Flex width=\"100%\">\r\n      <MuteButton\r\n        muted={muteButtonProps.muted}\r\n        volume={1}\r\n        onClick={() => muteButtonProps.setMuted(!muteButtonProps.muted)}\r\n        size={MUTE_BUTTON_SIZE}\r\n        color=\"#dddddd\"\r\n        hoverColor=\"#888888\"\r\n      />\r\n      <Spacer />\r\n      <Heading size=\"lg\" ml={`-${MUTE_BUTTON_SIZE}px`}>\r\n        {title}\r\n      </Heading>\r\n      <Spacer />\r\n      <div />\r\n    </Flex>\r\n  );\r\n};\r\n\r\nexport default TimerHeader;\r\n","import React from \"react\";\r\nimport { CounterTimer } from \"../../logic/Timer\";\r\nimport \"./timer.css\";\r\nimport useCounterTimer from \"../../logic/hooks/useCounterTimer\";\r\nimport { Flex, Heading, Spacer, Stack } from \"@chakra-ui/react\";\r\nimport TimeDisplay, { TimeDisplayState } from \"../../components/TimeDisplay\";\r\nimport PlayStopButton from \"../../components/Buttons/PlayStopButton\";\r\nimport RestartButton from \"../../components/Buttons/RestartButton\";\r\nimport RestartPlusButton from \"../../components/Buttons/RestartPlusButton\";\r\nimport PlusButton from \"../../components/Buttons/PlusButton\";\r\nimport MuteButton from \"../../components/MuteButton\";\r\nimport TimerHeader from \"../../components/TimerHeader\";\r\n\r\ninterface CounterTimerRendererProps {\r\n  timer: CounterTimer;\r\n  timerId: string;\r\n}\r\n\r\nconst CounterTimerRenderer = ({\r\n  timer,\r\n  timerId,\r\n}: CounterTimerRendererProps): JSX.Element => {\r\n  const state = useCounterTimer(timerId, timer);\r\n\r\n  return (\r\n    <div className=\"timerWrapper\">\r\n      <TimerHeader\r\n        title={timer.title}\r\n        muteButtonProps={{\r\n          muted: state.muted,\r\n          setMuted: state.setMuted,\r\n        }}\r\n      />\r\n      <Heading\r\n        size=\"md\"\r\n        color=\"gray.500\"\r\n        fontWeight=\"semibold\"\r\n        letterSpacing=\"wide\"\r\n      >\r\n        Completed {state.timesCompleted} times today\r\n      </Heading>\r\n      <TimeDisplay\r\n        seconds={state.secondsRemaining}\r\n        state={\r\n          state.stopped\r\n            ? TimeDisplayState.Stopped\r\n            : state.markedForRestart\r\n            ? TimeDisplayState.MarkedForRestart\r\n            : TimeDisplayState.Normal\r\n        }\r\n      />\r\n\r\n      <Stack direction=\"column\" spacing=\"1rem\" align=\"center\">\r\n        <PlayStopButton\r\n          stopped={state.stopped}\r\n          onClick={() => state.setStopped(!state.stopped)}\r\n        />\r\n        {/* Complete buttons */}\r\n        <Stack direction=\"row\">\r\n          {state.secondsRemaining > 0 && (\r\n            <PlusButton onClick={state.complete} />\r\n          )}\r\n          <RestartPlusButton onClick={state.completeAndRestart} />\r\n          {state.secondsRemaining > 0 && (\r\n            <RestartButton\r\n              onClick={state.completeAndMarkForRestart}\r\n              buttonText=\"Complete and Autorestart\"\r\n            />\r\n          )}\r\n        </Stack>\r\n        {/* Restart buttons */}\r\n        <RestartButton onClick={state.restart} />\r\n      </Stack>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CounterTimerRenderer;\r\n","import { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport { CounterTimer } from \"../Timer\";\r\nimport useCountdownTimer from \"./useCountdownTimer\";\r\n\r\ninterface UseCounterTimerResponse {\r\n  secondsRemaining: number;\r\n  timesCompleted: number;\r\n  stopped: boolean;\r\n  markedForRestart: boolean;\r\n  muted: boolean;\r\n  setMuted: (muted: boolean) => void;\r\n  setStopped: (stopped: boolean) => void;\r\n  // actions\r\n  complete: () => void;\r\n  completeAndRestart: () => void;\r\n  restart: () => void;\r\n  completeAndMarkForRestart: () => void;\r\n}\r\n\r\nexport default function useCounterTimer(\r\n  key: string,\r\n  timer: CounterTimer\r\n): UseCounterTimerResponse {\r\n  const {\r\n    timerState,\r\n    secondsRemaining,\r\n    stopped,\r\n    markedForRestart,\r\n    muted,\r\n    setMuted,\r\n    setStopped,\r\n    incrementTimesCompleted,\r\n    resetTimer,\r\n    setMarkedForRestart,\r\n  } = useCountdownTimer(key, timer.durationInSeconds);\r\n\r\n  const timesCompleted = timerState ? timerState.timesCompleted : -1;\r\n\r\n  const completeAndRestart = useCallback(() => {\r\n    incrementTimesCompleted();\r\n    resetTimer();\r\n  }, [incrementTimesCompleted, resetTimer]);\r\n\r\n  const completeAndMarkForRestart = useCallback(() => {\r\n    incrementTimesCompleted();\r\n    setMarkedForRestart();\r\n  }, [incrementTimesCompleted, setMarkedForRestart]);\r\n\r\n  return {\r\n    timesCompleted,\r\n    secondsRemaining,\r\n    stopped,\r\n    markedForRestart,\r\n    muted,\r\n    setMuted,\r\n    setStopped,\r\n    complete: incrementTimesCompleted,\r\n    restart: resetTimer,\r\n    completeAndRestart,\r\n    completeAndMarkForRestart,\r\n  };\r\n}\r\n","import { useMemo, useState } from \"react\";\r\nimport useInterval from \"../logic/hooks/useInterval\";\r\nimport { useAppSelector } from \"../store\";\r\n\r\ninterface UseTimerFlashingStateResponse {\r\n  flashing: boolean;\r\n  bgColor: string;\r\n}\r\n\r\nconst NON_FLASH_COLOR = \"gray.100\";\r\nconst FLASH_COLOR = \"yellow.200\";\r\nconst FLASH_INTERVAL = 200;\r\n\r\nexport default function useTimerFlashingState(\r\n  key: string\r\n): UseTimerFlashingStateResponse {\r\n  const timersState = useAppSelector((state) => state.timers);\r\n\r\n  const [bgColor, setBgColor] = useState(NON_FLASH_COLOR);\r\n\r\n  const flashing = useMemo(() => {\r\n    if (!(key in timersState)) return true;\r\n    return timersState[key].stopped ? false : timersState[key].flashing;\r\n  }, [timersState, key]);\r\n\r\n  useInterval(() => {\r\n    if (flashing) {\r\n      setBgColor(bgColor === NON_FLASH_COLOR ? FLASH_COLOR : NON_FLASH_COLOR);\r\n    } else if (bgColor !== NON_FLASH_COLOR) {\r\n      setBgColor(NON_FLASH_COLOR);\r\n    }\r\n  }, FLASH_INTERVAL);\r\n\r\n  return { flashing, bgColor };\r\n}\r\n","import React from \"react\";\r\nimport { Heading } from \"@chakra-ui/react\";\r\nimport TimeDisplay, { TimeDisplayState } from \"../../components/TimeDisplay\";\r\nimport { StopwatchTimer } from \"../../logic/Timer\";\r\nimport useTimerState from \"../../state/useTimerState\";\r\nimport \"./timer.css\";\r\nimport PlayStopButton from \"../../components/Buttons/PlayStopButton\";\r\nimport TimerHeader from \"../../components/TimerHeader\";\r\n\r\ninterface StopwatchTimerRendererProps {\r\n  timer: StopwatchTimer;\r\n  timerId: string;\r\n}\r\n\r\nconst StopwatchTimerRenderer = ({\r\n  timer,\r\n  timerId,\r\n}: StopwatchTimerRendererProps): JSX.Element => {\r\n  const state = useTimerState(timerId);\r\n\r\n  return (\r\n    <div className=\"timerWrapper\">\r\n      <TimerHeader title={timer.title} />\r\n      <TimeDisplay\r\n        seconds={state.seconds}\r\n        state={\r\n          state.stopped ? TimeDisplayState.Stopped : TimeDisplayState.Normal\r\n        }\r\n      />\r\n      <PlayStopButton\r\n        stopped={state.stopped}\r\n        onClick={() => state.setStopped(!state.stopped)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StopwatchTimerRenderer;\r\n","import React from \"react\";\r\nimport { Box, Button } from \"@chakra-ui/react\";\r\nimport { BiRightArrowAlt } from \"react-icons/bi\";\r\n\r\ninterface NextButtonProps {\r\n  onClick: () => void;\r\n  buttonText?: string;\r\n}\r\n\r\nconst ICON_SIZE = 30;\r\n\r\nconst NextButton = ({\r\n  onClick,\r\n  buttonText = \"Next\",\r\n}: NextButtonProps): JSX.Element => {\r\n  return (\r\n    <Box onClick={onClick}>\r\n      <Button bg=\"blue.100\" leftIcon={<BiRightArrowAlt size={ICON_SIZE} />}>\r\n        {buttonText}\r\n      </Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default NextButton;\r\n","import { useCallback, useEffect, useMemo, useState } from \"react\";\r\nimport timersSlice from \"../../state/timersSlice\";\r\nimport { useAppDispatch, useAppSelector } from \"../../store\";\r\nimport { TimerState } from \"../Timer\";\r\nimport useCountdownTimer from \"./useCountdownTimer\";\r\n\r\ninterface StateTimerResponse {\r\n  title: string;\r\n  totalSeconds: number;\r\n}\r\n\r\ninterface UseMultiStateTimerResponse {\r\n  states: StateTimerResponse[];\r\n  currentTitle: string;\r\n  nextStateTitle: string;\r\n  currentIndex: number;\r\n  secondsRemaining: number;\r\n  stopped: boolean;\r\n  setStopped: (stopped: boolean) => void;\r\n  muted: boolean;\r\n  setMuted: (muted: boolean) => void;\r\n  moveToNextState: () => void;\r\n}\r\n\r\nconst actions = timersSlice.actions;\r\n\r\nexport default function useMultiStateTimer(\r\n  key: string,\r\n  states: TimerState[]\r\n): UseMultiStateTimerResponse {\r\n  const [currentStateIndex, setCurrentStateIndex] = useState(0);\r\n\r\n  const currentState = useMemo(\r\n    () => states[currentStateIndex],\r\n    [states, currentStateIndex]\r\n  );\r\n\r\n  const dispatch = useAppDispatch();\r\n  const addSecondsToCurrentState = useCallback(\r\n    (incrementBy: number) => {\r\n      dispatch(\r\n        actions.addStatesSecondsAt({\r\n          key,\r\n          index: currentStateIndex,\r\n          value: incrementBy,\r\n        })\r\n      );\r\n    },\r\n    [dispatch, currentStateIndex]\r\n  );\r\n\r\n  const countdownState = useCountdownTimer(\r\n    key,\r\n    currentState.durationInSeconds,\r\n    () => addSecondsToCurrentState(1)\r\n  );\r\n  const timerState = countdownState.timerState;\r\n\r\n  const getNextStateIndex = useCallback(\r\n    () => (currentStateIndex >= states.length - 1 ? 0 : currentStateIndex + 1),\r\n    [currentStateIndex, states]\r\n  );\r\n\r\n  const nextStateTitle = useMemo(() => {\r\n    return states[getNextStateIndex()].title;\r\n  }, [states, getNextStateIndex, currentStateIndex]);\r\n\r\n  const moveToNextState = useCallback(() => {\r\n    countdownState.resetTimer();\r\n    setCurrentStateIndex(getNextStateIndex());\r\n  }, [setCurrentStateIndex, countdownState.resetTimer]);\r\n\r\n  const statesResponse = useMemo(() => {\r\n    if (!timerState) return [];\r\n    return states.map(\r\n      (multiTimerState: TimerState, i: number): StateTimerResponse => {\r\n        return {\r\n          title: multiTimerState.title,\r\n          totalSeconds: timerState.statesSeconds[i],\r\n        };\r\n      }\r\n    );\r\n  }, [timerState, states]);\r\n\r\n  return {\r\n    currentIndex: currentStateIndex,\r\n    currentTitle: currentState.title,\r\n    nextStateTitle,\r\n    secondsRemaining: countdownState.secondsRemaining,\r\n    stopped: countdownState.stopped,\r\n    states: statesResponse,\r\n    setStopped: countdownState.setStopped,\r\n    muted: countdownState.muted,\r\n    setMuted: countdownState.setMuted,\r\n    moveToNextState,\r\n  };\r\n}\r\n","import { Heading, Stack } from \"@chakra-ui/react\";\r\nimport React from \"react\";\r\nimport NextButton from \"../../components/Buttons/NextButton\";\r\nimport PlayStopButton from \"../../components/Buttons/PlayStopButton\";\r\nimport TimeDisplay, { TimeDisplayState } from \"../../components/TimeDisplay\";\r\nimport TimerHeader from \"../../components/TimerHeader\";\r\nimport useMultiStateTimer from \"../../logic/hooks/useMultiStateTimer\";\r\nimport { MultiStateTimer } from \"../../logic/Timer\";\r\nimport \"./timer.css\";\r\n\r\ninterface MultiStateTimerRendererProps {\r\n  timer: MultiStateTimer;\r\n  timerId: string;\r\n}\r\n\r\nconst MultiStateTimerRenderer = ({\r\n  timer,\r\n  timerId,\r\n}: MultiStateTimerRendererProps): JSX.Element => {\r\n  const state = useMultiStateTimer(timerId, timer.states);\r\n\r\n  return (\r\n    <div className=\"timerWrapper\">\r\n      <TimerHeader\r\n        title={timer.title}\r\n        muteButtonProps={{\r\n          muted: state.muted,\r\n          setMuted: state.setMuted,\r\n        }}\r\n      />\r\n      <Stack direction=\"row\" align=\"center\" spacing=\"5rem\">\r\n        {state.states.map((stateState, i: number) => {\r\n          return (\r\n            <TimeDisplay\r\n              seconds={stateState.totalSeconds}\r\n              size=\"lg\"\r\n              state={\r\n                state.currentIndex === i\r\n                  ? TimeDisplayState.Active\r\n                  : TimeDisplayState.Normal\r\n              }\r\n              heading={stateState.title}\r\n            />\r\n          );\r\n        })}\r\n      </Stack>\r\n      <Heading size=\"lg\">{state.currentTitle}</Heading>\r\n      <TimeDisplay\r\n        seconds={state.secondsRemaining}\r\n        state={\r\n          state.stopped ? TimeDisplayState.Stopped : TimeDisplayState.Normal\r\n        }\r\n      />\r\n      <PlayStopButton\r\n        stopped={state.stopped}\r\n        onClick={() => state.setStopped(!state.stopped)}\r\n      />\r\n      <NextButton\r\n        onClick={state.moveToNextState}\r\n        buttonText={`Switch to ${state.nextStateTitle}`}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MultiStateTimerRenderer;\r\n","import React from \"react\";\r\nimport { Box, Container } from \"@chakra-ui/react\";\r\nimport {\r\n  CounterTimer,\r\n  MultiStateTimer,\r\n  StopwatchTimer,\r\n  Timer,\r\n  TimerType,\r\n} from \"../../logic/Timer\";\r\nimport CounterTimerRenderer from \"./CounterTimerRenderer\";\r\nimport \"./timer.css\";\r\nimport useTimerFlashingState from \"../../state/useTimerFlashingState\";\r\nimport StopwatchTimerRenderer from \"./StopwatchTimerRenderer\";\r\nimport MultiStateTimerRenderer from \"./MultiStateTimerRenderer\";\r\n\r\ninterface TimerRendererProps {\r\n  timer: Timer;\r\n  timerId: string;\r\n}\r\n\r\ninterface TimerContainerProps {\r\n  timerId: string;\r\n  children: any;\r\n}\r\n\r\nconst TimerContainer = ({\r\n  timerId,\r\n  children,\r\n}: TimerContainerProps): JSX.Element => {\r\n  const { bgColor } = useTimerFlashingState(timerId);\r\n\r\n  return (\r\n    <Container maxW=\"container.xl\">\r\n      <Box\r\n        borderWidth=\"1px\"\r\n        borderRadius=\"lg\"\r\n        className=\"timer\"\r\n        bg={bgColor}\r\n        p=\"1rem\"\r\n        height=\"100%\"\r\n      >\r\n        {children}\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst TimerRenderer = ({ timer, timerId }: TimerRendererProps): JSX.Element => {\r\n  if (timer.type === TimerType.CounterTimer) {\r\n    return (\r\n      <TimerContainer timerId={timerId}>\r\n        <CounterTimerRenderer timer={timer as CounterTimer} timerId={timerId} />\r\n      </TimerContainer>\r\n    );\r\n  }\r\n\r\n  if (timer.type === TimerType.Stopwatch) {\r\n    return (\r\n      <TimerContainer timerId={timerId}>\r\n        <StopwatchTimerRenderer\r\n          timer={timer as StopwatchTimer}\r\n          timerId={timerId}\r\n        />\r\n      </TimerContainer>\r\n    );\r\n  }\r\n\r\n  if (timer.type === TimerType.MultiStateTimer) {\r\n    return (\r\n      <TimerContainer timerId={timerId}>\r\n        <MultiStateTimerRenderer\r\n          timerId={timerId}\r\n          timer={timer as MultiStateTimer}\r\n        />\r\n      </TimerContainer>\r\n    );\r\n  }\r\n\r\n  return <div className=\"timer\">Invalid renderer for {timer.title}</div>;\r\n};\r\n\r\nexport default TimerRenderer;\r\n","import React from \"react\";\r\nimport {\r\n  Slider,\r\n  SliderFilledTrack,\r\n  SliderMark,\r\n  SliderThumb,\r\n  SliderTrack,\r\n  Tooltip,\r\n} from \"@chakra-ui/react\";\r\n\r\ninterface AudioSliderProps {\r\n  value: number;\r\n  setValue: (value: number) => void;\r\n  disabled: boolean;\r\n}\r\n\r\nconst AudioSlider = ({\r\n  value,\r\n  setValue,\r\n  disabled,\r\n}: AudioSliderProps): JSX.Element => {\r\n  const [showTooltip, setShowTooltip] = React.useState(false);\r\n  return (\r\n    <Slider\r\n      aria-label=\"slider-ex-6\"\r\n      onChange={(val) => setValue(val)}\r\n      width=\"10rem\"\r\n      onMouseEnter={() => setShowTooltip(true)}\r\n      onMouseLeave={() => setShowTooltip(false)}\r\n      isReversed\r\n      isDisabled={disabled}\r\n    >\r\n      <SliderMark\r\n        value={value}\r\n        textAlign=\"center\"\r\n        bg=\"blue.500\"\r\n        color=\"white\"\r\n        mt=\"-10\"\r\n        ml=\"-5\"\r\n        w=\"12\"\r\n        placement\r\n      ></SliderMark>\r\n      <SliderTrack bg=\"white\">\r\n        <SliderFilledTrack bg=\"blue.500\" />\r\n      </SliderTrack>\r\n      <Tooltip\r\n        hasArrow\r\n        bg=\"teal.500\"\r\n        color=\"white\"\r\n        placement=\"top\"\r\n        isOpen={showTooltip}\r\n        label={`${Math.round(value)}%`}\r\n      >\r\n        <SliderThumb />\r\n      </Tooltip>\r\n    </Slider>\r\n  );\r\n};\r\n\r\nexport default AudioSlider;\r\n","import { useCallback } from \"react\";\r\nimport { useAppDispatch, useAppSelector } from \"../store\";\r\nimport audioSlice from \"./audioSlice\";\r\n\r\ninterface UseAudioStateResponse {\r\n  muted: boolean;\r\n  setMuted: (muted: boolean) => void;\r\n  volume: number; // between 0 and 1\r\n  setVolume: (volume: number) => void;\r\n}\r\n\r\nconst actions = audioSlice.actions;\r\n\r\nexport default function useAudioState(): UseAudioStateResponse {\r\n  const state = useAppSelector((state) => state.audio);\r\n  const dispatch = useAppDispatch();\r\n\r\n  const setMuted = useCallback(\r\n    (muted: boolean) => dispatch(actions.setMuted(muted)),\r\n    [dispatch]\r\n  );\r\n\r\n  const setVolume = useCallback(\r\n    (volume: number) => dispatch(actions.setVolume(volume)),\r\n    [dispatch]\r\n  );\r\n\r\n  return {\r\n    muted: state.muted,\r\n    setMuted,\r\n    volume: state.volume,\r\n    setVolume,\r\n  };\r\n}\r\n","import React, { useState } from \"react\";\r\nimport AudioSlider from \"../../components/AudioSlider\";\r\nimport useAudioState from \"../../state/useAudioState\";\r\nimport {\r\n  BiVolume,\r\n  BiVolumeFull,\r\n  BiVolumeLow,\r\n  BiVolumeMute,\r\n} from \"react-icons/bi\";\r\nimport { Stack } from \"@chakra-ui/react\";\r\nimport MuteButton from \"../../components/MuteButton\";\r\n\r\nconst HeaderAudioSlider = (): JSX.Element => {\r\n  const { volume, setVolume, muted, setMuted } = useAudioState();\r\n  const [volumeIconColor, setVolumeIconColor] = useState(\"white\");\r\n\r\n  const iconProps = {\r\n    color: volumeIconColor,\r\n    size: 40,\r\n    onMouseEnter: () => setVolumeIconColor(\"#dddddd\"),\r\n    onMouseLeave: () => setVolumeIconColor(\"white\"),\r\n    onClick: () => setMuted(!muted),\r\n  };\r\n\r\n  return (\r\n    <Stack direction=\"row\" align=\"center\">\r\n      <AudioSlider\r\n        value={volume * 100}\r\n        setValue={(value: number) => setVolume(value / 100)}\r\n        disabled={muted}\r\n      />\r\n      <MuteButton\r\n        muted={muted}\r\n        volume={volume}\r\n        onClick={() => setMuted(!muted)}\r\n      />\r\n      <div style={{ marginRight: \"1rem\" }} />\r\n    </Stack>\r\n  );\r\n};\r\n\r\nexport default HeaderAudioSlider;\r\n","import React from \"react\";\r\nimport { Box, Stack, Heading, Flex, Spacer } from \"@chakra-ui/layout\";\r\nimport { Button, Icon } from \"@chakra-ui/react\";\r\nimport { FaRegClock } from \"react-icons/fa\";\r\nimport \"./header.css\";\r\nimport HeaderAudioSlider from \"./HeaderAudioSlider\";\r\n\r\ninterface HeaderProps {\r\n  startAllTimers: () => void;\r\n  stopAllTimers: () => void;\r\n}\r\n\r\nconst Header = ({\r\n  startAllTimers,\r\n  stopAllTimers,\r\n}: HeaderProps): JSX.Element => {\r\n  return (\r\n    <Box bg=\"tomato\" w=\"100%\" className=\"header\">\r\n      <Flex width=\"100%\">\r\n        <Stack\r\n          direction=\"row\"\r\n          spacing=\"1rem\"\r\n          ml=\"1rem\"\r\n          pt=\"5px\"\r\n          pb=\"5px\"\r\n          align=\"center\"\r\n        >\r\n          <FaRegClock size={40} color=\"white\" />\r\n          <Heading size=\"xl\" color=\"white\">\r\n            Timers Lesgooo\r\n          </Heading>\r\n          <Button bg=\"blue.100\" onClick={startAllTimers}>\r\n            Start All\r\n          </Button>\r\n          <Button bg=\"blue.100\" onClick={stopAllTimers}>\r\n            Stop All\r\n          </Button>\r\n        </Stack>\r\n        <Spacer />\r\n        <HeaderAudioSlider />\r\n      </Flex>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { useCallback } from \"react\";\r\nimport { useAppDispatch } from \"../store\";\r\nimport timersSlice from \"./timersSlice\";\r\n\r\ninterface UseGlobalTimersStateResponse {\r\n  addTimers: (count: number) => void;\r\n  startAllTimers: () => void;\r\n  stopAllTimers: () => void;\r\n}\r\n\r\nconst actions = timersSlice.actions;\r\n\r\nexport default function useGlobalTimersState(): UseGlobalTimersStateResponse {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const addTimers = useCallback(\r\n    (count: number) => {\r\n      for (let i = 0; i < count; i++) {\r\n        console.log(`Adding timer ${i}`);\r\n        dispatch(actions.addTimer(`${i}`));\r\n      }\r\n    },\r\n    [dispatch]\r\n  );\r\n\r\n  const startAllTimers = useCallback(\r\n    () => dispatch(actions.startAllTimers()),\r\n    [dispatch]\r\n  );\r\n\r\n  const stopAllTimers = useCallback(\r\n    () => dispatch(actions.stopAllTimers()),\r\n    [dispatch]\r\n  );\r\n\r\n  return {\r\n    addTimers,\r\n    startAllTimers,\r\n    stopAllTimers,\r\n  };\r\n}\r\n","export default __webpack_public_path__ + \"static/media/beep.c21038da.mp3\";","import { useEffect, useMemo, useState } from \"react\";\r\nimport useInterval from \"../logic/hooks/useInterval\";\r\nimport { useAppSelector } from \"../store\";\r\nimport { TimersState } from \"./timersSlice\";\r\nimport file from \"./beep.mp3\";\r\nimport useAudioState from \"./useAudioState\";\r\n\r\ninterface UseBeepingResponse {}\r\n\r\nconst shouldBeep = (state: TimersState): boolean => {\r\n  const states = Object.keys(state).map((key: string) => state[key]);\r\n  for (let i = 0; i < states.length; i++) {\r\n    if (states[i].flashing && !states[i].stopped && !states[i].muted)\r\n      return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nconst BEEPING_INTERVAL = 1000;\r\n\r\nexport default function useBeeping(): void {\r\n  const timersState = useAppSelector((state) => state.timers);\r\n  const anyFlashing = useMemo(() => shouldBeep(timersState), [timersState]);\r\n\r\n  const { muted, volume } = useAudioState();\r\n\r\n  const [audio] = useState(new Audio(file));\r\n\r\n  useEffect(() => {\r\n    if (muted) {\r\n      audio.volume = 0;\r\n    } else {\r\n      audio.volume = volume;\r\n    }\r\n  }, [audio, muted, volume]);\r\n\r\n  useInterval(() => {\r\n    if (anyFlashing) {\r\n      audio.play();\r\n    }\r\n  }, BEEPING_INTERVAL);\r\n}\r\n","import React, { useEffect } from \"react\";\nimport { SimpleGrid } from \"@chakra-ui/layout\";\nimport \"./App.css\";\nimport TimerRenderer from \"./layout/timer/TimerRenderer\";\nimport {\n  CounterTimer,\n  MultiStateTimer,\n  StopwatchTimer,\n  Timer,\n  TimerMap,\n  TimerType,\n} from \"./logic/Timer\";\nimport Header from \"./layout/header/Header\";\nimport useGlobalTimersState from \"./state/useGlobalTimersState\";\nimport useBeeping from \"./state/useBeeping\";\n\nconst waterTimer: CounterTimer = {\n  type: TimerType.CounterTimer,\n  title: \"Drink 1/2 Hydroflask\",\n  durationInSeconds: 30,\n};\n\nconst officeTimer: StopwatchTimer = {\n  type: TimerType.Stopwatch,\n  title: \"In Office\",\n};\n\nconst standingTimer: MultiStateTimer = {\n  type: TimerType.MultiStateTimer,\n  title: \"Stand some you lazy ass\",\n  states: [\n    { title: \"Sitting\", durationInSeconds: 20 },\n    { title: \"Standing\", durationInSeconds: 20 },\n  ],\n};\n\nconst breakTimer: MultiStateTimer = {\n  type: TimerType.MultiStateTimer,\n  title: \"Take a break my boi\",\n  states: [\n    { title: \"Working\", durationInSeconds: 45 },\n    { title: \"Breaking.. bad\", durationInSeconds: 15 },\n  ],\n};\n\nconst timers: TimerMap = {\n  waterTimer: waterTimer,\n  officeTimer: officeTimer,\n  standingTimer: standingTimer,\n  breakTimer: breakTimer,\n};\n\nconst timersList = Object.values(timers);\n\nconst App = (): JSX.Element => {\n  const { addTimers, startAllTimers, stopAllTimers } = useGlobalTimersState();\n  useEffect(() => {\n    addTimers(timersList.length);\n  }, [addTimers, timersList]);\n\n  useBeeping();\n\n  return (\n    <>\n      <Header startAllTimers={startAllTimers} stopAllTimers={stopAllTimers} />\n      <SimpleGrid\n        minChildWidth=\"500px\"\n        spacing=\"40px\"\n        marginTop=\"5rem\"\n        marginBottom=\"2rem\"\n      >\n        {timersList.map((timer, i) => (\n          <TimerRenderer timer={timer} timerId={`${i}`} />\n        ))}\n      </SimpleGrid>\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { ChakraProvider } from \"@chakra-ui/react\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <ChakraProvider>\n        <App />\n      </ChakraProvider>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}